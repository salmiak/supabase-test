const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WeekView-Bgi-ZbJ1.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/WeekView-tn0RQdqM.css","assets/DishListView-Dkm36kZL.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function gn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const X={},Gt=[],We=()=>{},Qa=()=>!1,ar=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),_n=e=>e.startsWith("onUpdate:"),pe=Object.assign,mn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Ya=Object.prototype.hasOwnProperty,J=(e,t)=>Ya.call(e,t),N=Array.isArray,Qt=e=>lr(e)==="[object Map]",no=e=>lr(e)==="[object Set]",B=e=>typeof e=="function",ne=e=>typeof e=="string",_t=e=>typeof e=="symbol",se=e=>e!==null&&typeof e=="object",io=e=>(se(e)||B(e))&&B(e.then)&&B(e.catch),oo=Object.prototype.toString,lr=e=>oo.call(e),Xa=e=>lr(e).slice(8,-1),ao=e=>lr(e)==="[object Object]",vn=e=>ne(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,_s=gn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cr=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Za=/-(\w)/g,Re=cr(e=>e.replace(Za,(t,s)=>s?s.toUpperCase():"")),el=/\B([A-Z])/g,At=cr(e=>e.replace(el,"-$1").toLowerCase()),ur=cr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Er=cr(e=>e?`on${ur(e)}`:""),gt=(e,t)=>!Object.is(e,t),zs=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},lo=(e,t,s,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:s})},Hr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Fn;const hr=()=>Fn||(Fn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yn(e){if(N(e)){const t={};for(let s=0;s<e.length;s++){const r=e[s],n=ne(r)?nl(r):yn(r);if(n)for(const i in n)t[i]=n[i]}return t}else if(ne(e)||se(e))return e}const tl=/;(?![^(]*\))/g,sl=/:([^]+)/,rl=/\/\*[^]*?\*\//g;function nl(e){const t={};return e.replace(rl,"").split(tl).forEach(s=>{if(s){const r=s.split(sl);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function fr(e){let t="";if(ne(e))t=e;else if(N(e))for(let s=0;s<e.length;s++){const r=fr(e[s]);r&&(t+=r+" ")}else if(se(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const il="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ol=gn(il);function co(e){return!!e||e===""}const uo=e=>!!(e&&e.__v_isRef===!0),al=e=>ne(e)?e:e==null?"":N(e)||se(e)&&(e.toString===oo||!B(e.toString))?uo(e)?al(e.value):JSON.stringify(e,ho,2):String(e),ho=(e,t)=>uo(t)?ho(e,t.value):Qt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,n],i)=>(s[kr(r,i)+" =>"]=n,s),{})}:no(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>kr(s))}:_t(t)?kr(t):se(t)&&!N(t)&&!ao(t)?String(t):t,kr=(e,t="")=>{var s;return _t(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ke;class ll{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ke,!t&&ke&&(this.index=(ke.scopes||(ke.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=ke;try{return ke=this,t()}finally{ke=s}}}on(){ke=this}off(){ke=this.parent}stop(t){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function cl(){return ke}let te;const Tr=new WeakSet;class fo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ke&&ke.active&&ke.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Tr.has(this)&&(Tr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||go(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Bn(this),_o(this);const t=te,s=je;te=this,je=!0;try{return this.fn()}finally{mo(this),te=t,je=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Sn(t);this.deps=this.depsTail=void 0,Bn(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Tr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vr(this)&&this.run()}get dirty(){return Vr(this)}}let po=0,ms,vs;function go(e,t=!1){if(e.flags|=8,t){e.next=vs,vs=e;return}e.next=ms,ms=e}function wn(){po++}function bn(){if(--po>0)return;if(vs){let t=vs;for(vs=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;ms;){let t=ms;for(ms=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=s}}if(e)throw e}function _o(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function mo(e){let t,s=e.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Sn(r),ul(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}e.deps=t,e.depsTail=s}function Vr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(vo(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function vo(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===xs))return;e.globalVersion=xs;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Vr(e)){e.flags&=-3;return}const s=te,r=je;te=e,je=!0;try{_o(e);const n=e.fn(e._value);(t.version===0||gt(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{te=s,je=r,mo(e),e.flags&=-3}}function Sn(e,t=!1){const{dep:s,prevSub:r,nextSub:n}=e;if(r&&(r.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=r,e.nextSub=void 0),s.subs===e&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Sn(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function ul(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let je=!0;const yo=[];function mt(){yo.push(je),je=!1}function vt(){const e=yo.pop();je=e===void 0?!0:e}function Bn(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=te;te=void 0;try{t()}finally{te=s}}}let xs=0;class hl{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class En{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!te||!je||te===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==te)s=this.activeLink=new hl(te,this),te.deps?(s.prevDep=te.depsTail,te.depsTail.nextDep=s,te.depsTail=s):te.deps=te.depsTail=s,wo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=te.depsTail,s.nextDep=void 0,te.depsTail.nextDep=s,te.depsTail=s,te.deps===s&&(te.deps=r)}return s}trigger(t){this.version++,xs++,this.notify(t)}notify(t){wn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{bn()}}}function wo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)wo(r)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Kr=new WeakMap,xt=Symbol(""),Wr=Symbol(""),Os=Symbol("");function ce(e,t,s){if(je&&te){let r=Kr.get(e);r||Kr.set(e,r=new Map);let n=r.get(s);n||(r.set(s,n=new En),n.map=r,n.key=s),n.track()}}function et(e,t,s,r,n,i){const o=Kr.get(e);if(!o){xs++;return}const a=l=>{l&&l.trigger()};if(wn(),t==="clear")o.forEach(a);else{const l=N(e),u=l&&vn(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,d)=>{(d==="length"||d===Os||!_t(d)&&d>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Os)),t){case"add":l?u&&a(o.get("length")):(a(o.get(xt)),Qt(e)&&a(o.get(Wr)));break;case"delete":l||(a(o.get(xt)),Qt(e)&&a(o.get(Wr)));break;case"set":Qt(e)&&a(o.get(xt));break}}bn()}function Lt(e){const t=z(e);return t===e?t:(ce(t,"iterate",Os),Oe(e)?t:t.map(ue))}function dr(e){return ce(e=z(e),"iterate",Os),e}const fl={__proto__:null,[Symbol.iterator](){return Pr(this,Symbol.iterator,ue)},concat(...e){return Lt(this).concat(...e.map(t=>N(t)?Lt(t):t))},entries(){return Pr(this,"entries",e=>(e[1]=ue(e[1]),e))},every(e,t){return Ge(this,"every",e,t,void 0,arguments)},filter(e,t){return Ge(this,"filter",e,t,s=>s.map(ue),arguments)},find(e,t){return Ge(this,"find",e,t,ue,arguments)},findIndex(e,t){return Ge(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ge(this,"findLast",e,t,ue,arguments)},findLastIndex(e,t){return Ge(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ge(this,"forEach",e,t,void 0,arguments)},includes(...e){return xr(this,"includes",e)},indexOf(...e){return xr(this,"indexOf",e)},join(e){return Lt(this).join(e)},lastIndexOf(...e){return xr(this,"lastIndexOf",e)},map(e,t){return Ge(this,"map",e,t,void 0,arguments)},pop(){return cs(this,"pop")},push(...e){return cs(this,"push",e)},reduce(e,...t){return qn(this,"reduce",e,t)},reduceRight(e,...t){return qn(this,"reduceRight",e,t)},shift(){return cs(this,"shift")},some(e,t){return Ge(this,"some",e,t,void 0,arguments)},splice(...e){return cs(this,"splice",e)},toReversed(){return Lt(this).toReversed()},toSorted(e){return Lt(this).toSorted(e)},toSpliced(...e){return Lt(this).toSpliced(...e)},unshift(...e){return cs(this,"unshift",e)},values(){return Pr(this,"values",ue)}};function Pr(e,t,s){const r=dr(e),n=r[t]();return r!==e&&!Oe(e)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const dl=Array.prototype;function Ge(e,t,s,r,n,i){const o=dr(e),a=o!==e&&!Oe(e),l=o[t];if(l!==dl[t]){const h=l.apply(e,i);return a?ue(h):h}let u=s;o!==e&&(a?u=function(h,d){return s.call(this,ue(h),d,e)}:s.length>2&&(u=function(h,d){return s.call(this,h,d,e)}));const c=l.call(o,u,r);return a&&n?n(c):c}function qn(e,t,s,r){const n=dr(e);let i=s;return n!==e&&(Oe(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,ue(a),l,e)}),n[t](i,...r)}function xr(e,t,s){const r=z(e);ce(r,"iterate",Os);const n=r[t](...s);return(n===-1||n===!1)&&Pn(s[0])?(s[0]=z(s[0]),r[t](...s)):n}function cs(e,t,s=[]){mt(),wn();const r=z(e)[t].apply(e,s);return bn(),vt(),r}const pl=gn("__proto__,__v_isRef,__isVue"),bo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(_t));function gl(e){_t(e)||(e=String(e));const t=z(this);return ce(t,"has",e),t.hasOwnProperty(e)}class So{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,r){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Tl:Po:i?To:ko).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=N(t);if(!n){let l;if(o&&(l=fl[s]))return l;if(s==="hasOwnProperty")return gl}const a=Reflect.get(t,s,de(t)?t:r);return(_t(s)?bo.has(s):pl(s))||(n||ce(t,"get",s),i)?a:de(a)?o&&vn(s)?a:a.value:se(a)?n?Oo(a):pr(a):a}}class Eo extends So{constructor(t=!1){super(!1,t)}set(t,s,r,n){let i=t[s];if(!this._isShallow){const l=Ot(i);if(!Oe(r)&&!Ot(r)&&(i=z(i),r=z(r)),!N(t)&&de(i)&&!de(r))return l?!1:(i.value=r,!0)}const o=N(t)&&vn(s)?Number(s)<t.length:J(t,s),a=Reflect.set(t,s,r,de(t)?t:n);return t===z(n)&&(o?gt(r,i)&&et(t,"set",s,r):et(t,"add",s,r)),a}deleteProperty(t,s){const r=J(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&r&&et(t,"delete",s,void 0),n}has(t,s){const r=Reflect.has(t,s);return(!_t(s)||!bo.has(s))&&ce(t,"has",s),r}ownKeys(t){return ce(t,"iterate",N(t)?"length":xt),Reflect.ownKeys(t)}}class _l extends So{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const ml=new Eo,vl=new _l,yl=new Eo(!0);const zr=e=>e,Ns=e=>Reflect.getPrototypeOf(e);function wl(e,t,s){return function(...r){const n=this.__v_raw,i=z(n),o=Qt(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=n[e](...r),c=s?zr:t?Jr:ue;return!t&&ce(i,"iterate",l?Wr:xt),{next(){const{value:h,done:d}=u.next();return d?{value:h,done:d}:{value:a?[c(h[0]),c(h[1])]:c(h),done:d}},[Symbol.iterator](){return this}}}}function Fs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function bl(e,t){const s={get(n){const i=this.__v_raw,o=z(i),a=z(n);e||(gt(n,a)&&ce(o,"get",n),ce(o,"get",a));const{has:l}=Ns(o),u=t?zr:e?Jr:ue;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!e&&ce(z(n),"iterate",xt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=z(i),a=z(n);return e||(gt(n,a)&&ce(o,"has",n),ce(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=z(a),u=t?zr:e?Jr:ue;return!e&&ce(l,"iterate",xt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return pe(s,e?{add:Fs("add"),set:Fs("set"),delete:Fs("delete"),clear:Fs("clear")}:{add(n){!t&&!Oe(n)&&!Ot(n)&&(n=z(n));const i=z(this);return Ns(i).has.call(i,n)||(i.add(n),et(i,"add",n,n)),this},set(n,i){!t&&!Oe(i)&&!Ot(i)&&(i=z(i));const o=z(this),{has:a,get:l}=Ns(o);let u=a.call(o,n);u||(n=z(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?gt(i,c)&&et(o,"set",n,i):et(o,"add",n,i),this},delete(n){const i=z(this),{has:o,get:a}=Ns(i);let l=o.call(i,n);l||(n=z(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&et(i,"delete",n,void 0),u},clear(){const n=z(this),i=n.size!==0,o=n.clear();return i&&et(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=wl(n,e,t)}),s}function kn(e,t){const s=bl(e,t);return(r,n,i)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?r:Reflect.get(J(s,n)&&n in r?s:r,n,i)}const Sl={get:kn(!1,!1)},El={get:kn(!1,!0)},kl={get:kn(!0,!1)};const ko=new WeakMap,To=new WeakMap,Po=new WeakMap,Tl=new WeakMap;function Pl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xl(e){return e.__v_skip||!Object.isExtensible(e)?0:Pl(Xa(e))}function pr(e){return Ot(e)?e:Tn(e,!1,ml,Sl,ko)}function xo(e){return Tn(e,!1,yl,El,To)}function Oo(e){return Tn(e,!0,vl,kl,Po)}function Tn(e,t,s,r,n){if(!se(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=n.get(e);if(i)return i;const o=xl(e);if(o===0)return e;const a=new Proxy(e,o===2?r:s);return n.set(e,a),a}function Yt(e){return Ot(e)?Yt(e.__v_raw):!!(e&&e.__v_isReactive)}function Ot(e){return!!(e&&e.__v_isReadonly)}function Oe(e){return!!(e&&e.__v_isShallow)}function Pn(e){return e?!!e.__v_raw:!1}function z(e){const t=e&&e.__v_raw;return t?z(t):e}function Ol(e){return!J(e,"__v_skip")&&Object.isExtensible(e)&&lo(e,"__v_skip",!0),e}const ue=e=>se(e)?pr(e):e,Jr=e=>se(e)?Oo(e):e;function de(e){return e?e.__v_isRef===!0:!1}function Ro(e){return Ao(e,!1)}function Rl(e){return Ao(e,!0)}function Ao(e,t){return de(e)?e:new Al(e,t)}class Al{constructor(t,s){this.dep=new En,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:z(t),this._value=s?t:ue(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,r=this.__v_isShallow||Oe(t)||Ot(t);t=r?t:z(t),gt(t,s)&&(this._rawValue=t,this._value=r?t:ue(t),this.dep.trigger())}}function Xt(e){return de(e)?e.value:e}const Cl={get:(e,t,s)=>t==="__v_raw"?e:Xt(Reflect.get(e,t,s)),set:(e,t,s,r)=>{const n=e[t];return de(n)&&!de(s)?(n.value=s,!0):Reflect.set(e,t,s,r)}};function Co(e){return Yt(e)?e:new Proxy(e,Cl)}class jl{constructor(t,s,r){this.fn=t,this.setter=s,this._value=void 0,this.dep=new En(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=xs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&te!==this)return go(this,!0),!0}get value(){const t=this.dep.track();return vo(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function $l(e,t,s=!1){let r,n;return B(e)?r=e:(r=e.get,n=e.set),new jl(r,n,s)}const Bs={},Xs=new WeakMap;let kt;function Il(e,t=!1,s=kt){if(s){let r=Xs.get(s);r||Xs.set(s,r=[]),r.push(e)}}function Ll(e,t,s=X){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=x=>n?x:Oe(x)||n===!1||n===0?tt(x,1):tt(x);let c,h,d,g,m=!1,S=!1;if(de(e)?(h=()=>e.value,m=Oe(e)):Yt(e)?(h=()=>u(e),m=!0):N(e)?(S=!0,m=e.some(x=>Yt(x)||Oe(x)),h=()=>e.map(x=>{if(de(x))return x.value;if(Yt(x))return u(x);if(B(x))return l?l(x,2):x()})):B(e)?t?h=l?()=>l(e,2):e:h=()=>{if(d){mt();try{d()}finally{vt()}}const x=kt;kt=c;try{return l?l(e,3,[g]):e(g)}finally{kt=x}}:h=We,t&&n){const x=h,F=n===!0?1/0:n;h=()=>tt(x(),F)}const k=cl(),j=()=>{c.stop(),k&&k.active&&mn(k.effects,c)};if(i&&t){const x=t;t=(...F)=>{x(...F),j()}}let $=S?new Array(e.length).fill(Bs):Bs;const C=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(t){const F=c.run();if(n||m||(S?F.some((le,re)=>gt(le,$[re])):gt(F,$))){d&&d();const le=kt;kt=c;try{const re=[F,$===Bs?void 0:S&&$[0]===Bs?[]:$,g];l?l(t,3,re):t(...re),$=F}finally{kt=le}}}else c.run()};return a&&a(C),c=new fo(h),c.scheduler=o?()=>o(C,!1):C,g=x=>Il(x,!1,c),d=c.onStop=()=>{const x=Xs.get(c);if(x){if(l)l(x,4);else for(const F of x)F();Xs.delete(c)}},t?r?C(!0):$=c.run():o?o(C.bind(null,!0),!0):c.run(),j.pause=c.pause.bind(c),j.resume=c.resume.bind(c),j.stop=j,j}function tt(e,t=1/0,s){if(t<=0||!se(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,de(e))tt(e.value,t,s);else if(N(e))for(let r=0;r<e.length;r++)tt(e[r],t,s);else if(no(e)||Qt(e))e.forEach(r=>{tt(r,t,s)});else if(ao(e)){for(const r in e)tt(e[r],t,s);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&tt(e[r],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ls(e,t,s,r){try{return r?e(...r):e()}catch(n){gr(n,t,s)}}function ze(e,t,s,r){if(B(e)){const n=Ls(e,t,s,r);return n&&io(n)&&n.catch(i=>{gr(i,t,s)}),n}if(N(e)){const n=[];for(let i=0;i<e.length;i++)n.push(ze(e[i],t,s,r));return n}}function gr(e,t,s,r=!0){const n=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||X;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](e,l,u)===!1)return}a=a.parent}if(i){mt(),Ls(i,null,10,[e,l,u]),vt();return}}Dl(e,s,n,r,o)}function Dl(e,t,s,r=!0,n=!1){if(n)throw e;console.error(e)}const _e=[];let Ve=-1;const Zt=[];let ut=null,Vt=0;const jo=Promise.resolve();let Zs=null;function $o(e){const t=Zs||jo;return e?t.then(this?e.bind(this):e):t}function Ul(e){let t=Ve+1,s=_e.length;for(;t<s;){const r=t+s>>>1,n=_e[r],i=Rs(n);i<e||i===e&&n.flags&2?t=r+1:s=r}return t}function xn(e){if(!(e.flags&1)){const t=Rs(e),s=_e[_e.length-1];!s||!(e.flags&2)&&t>=Rs(s)?_e.push(e):_e.splice(Ul(t),0,e),e.flags|=1,Io()}}function Io(){Zs||(Zs=jo.then(Do))}function Ml(e){N(e)?Zt.push(...e):ut&&e.id===-1?ut.splice(Vt+1,0,e):e.flags&1||(Zt.push(e),e.flags|=1),Io()}function Hn(e,t,s=Ve+1){for(;s<_e.length;s++){const r=_e[s];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;_e.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Lo(e){if(Zt.length){const t=[...new Set(Zt)].sort((s,r)=>Rs(s)-Rs(r));if(Zt.length=0,ut){ut.push(...t);return}for(ut=t,Vt=0;Vt<ut.length;Vt++){const s=ut[Vt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}ut=null,Vt=0}}const Rs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Do(e){try{for(Ve=0;Ve<_e.length;Ve++){const t=_e[Ve];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ls(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ve<_e.length;Ve++){const t=_e[Ve];t&&(t.flags&=-2)}Ve=-1,_e.length=0,Lo(),Zs=null,(_e.length||Zt.length)&&Do()}}let Te=null,Uo=null;function er(e){const t=Te;return Te=e,Uo=e&&e.type.__scopeId||null,t}function Gr(e,t=Te,s){if(!t||e._n)return e;const r=(...n)=>{r._d&&ei(-1);const i=er(t);let o;try{o=e(...n)}finally{er(i),r._d&&ei(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Cd(e,t){if(Te===null)return e;const s=yr(Te),r=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[i,o,a,l=X]=t[n];i&&(B(i)&&(i={mounted:i,updated:i}),i.deep&&tt(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function bt(e,t,s,r){const n=e.dirs,i=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(mt(),ze(l,s,8,[e.el,a,e,t]),vt())}}const Nl=Symbol("_vte"),Fl=e=>e.__isTeleport;function On(e,t){e.shapeFlag&6&&e.component?(e.transition=t,On(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Mo(e,t){return B(e)?pe({name:e.name},t,{setup:e}):e}function No(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function tr(e,t,s,r,n=!1){if(N(e)){e.forEach((m,S)=>tr(m,t&&(N(t)?t[S]:t),s,r,n));return}if(ys(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&tr(e,t,s,r.component.subTree);return}const i=r.shapeFlag&4?yr(r.component):r.el,o=n?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===X?a.refs={}:a.refs,h=a.setupState,d=z(h),g=h===X?()=>!1:m=>J(d,m);if(u!=null&&u!==l&&(ne(u)?(c[u]=null,g(u)&&(h[u]=null)):de(u)&&(u.value=null)),B(l))Ls(l,a,12,[o,c]);else{const m=ne(l),S=de(l);if(m||S){const k=()=>{if(e.f){const j=m?g(l)?h[l]:c[l]:l.value;n?N(j)&&mn(j,i):N(j)?j.includes(i)||j.push(i):m?(c[l]=[i],g(l)&&(h[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else m?(c[l]=o,g(l)&&(h[l]=o)):S&&(l.value=o,e.k&&(c[e.k]=o))};o?(k.id=-1,Se(k,s)):k()}}}hr().requestIdleCallback;hr().cancelIdleCallback;const ys=e=>!!e.type.__asyncLoader,Fo=e=>e.type.__isKeepAlive;function Bl(e,t){Bo(e,"a",t)}function ql(e,t){Bo(e,"da",t)}function Bo(e,t,s=he){const r=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(_r(t,r,s),s){let n=s.parent;for(;n&&n.parent;)Fo(n.parent.vnode)&&Hl(r,t,s,n),n=n.parent}}function Hl(e,t,s,r){const n=_r(t,e,r,!0);Ho(()=>{mn(r[t],n)},s)}function _r(e,t,s=he,r=!1){if(s){const n=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{mt();const a=Ds(s),l=ze(t,s,e,o);return a(),vt(),l});return r?n.unshift(i):n.push(i),i}}const rt=e=>(t,s=he)=>{(!Cs||e==="sp")&&_r(e,(...r)=>t(...r),s)},Vl=rt("bm"),qo=rt("m"),Kl=rt("bu"),Wl=rt("u"),zl=rt("bum"),Ho=rt("um"),Jl=rt("sp"),Gl=rt("rtg"),Ql=rt("rtc");function Yl(e,t=he){_r("ec",e,t)}const Vo="components";function Vn(e,t){return Wo(Vo,e,!0,t)||e}const Ko=Symbol.for("v-ndc");function jd(e){return ne(e)?Wo(Vo,e,!1)||e:e||Ko}function Wo(e,t,s=!0,r=!1){const n=Te||he;if(n){const i=n.type;{const a=Nc(i,!1);if(a&&(a===t||a===Re(t)||a===ur(Re(t))))return i}const o=Kn(n[e]||i[e],t)||Kn(n.appContext[e],t);return!o&&r?i:o}}function Kn(e,t){return e&&(e[t]||e[Re(t)]||e[ur(Re(t))])}function $d(e,t,s,r){let n;const i=s,o=N(e);if(o||ne(e)){const a=o&&Yt(e);let l=!1;a&&(l=!Oe(e),e=dr(e)),n=new Array(e.length);for(let u=0,c=e.length;u<c;u++)n[u]=t(l?ue(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,i)}else if(se(e))if(e[Symbol.iterator])n=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=t(e[c],c,l,i)}}else n=[];return n}const Qr=e=>e?pa(e)?yr(e):Qr(e.parent):null,ws=pe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Qr(e.parent),$root:e=>Qr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Jo(e),$forceUpdate:e=>e.f||(e.f=()=>{xn(e.update)}),$nextTick:e=>e.n||(e.n=$o.bind(e.proxy)),$watch:e=>vc.bind(e)}),Or=(e,t)=>e!==X&&!e.__isScriptSetup&&J(e,t),Xl={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return n[t];case 4:return s[t];case 3:return i[t]}else{if(Or(r,t))return o[t]=1,r[t];if(n!==X&&J(n,t))return o[t]=2,n[t];if((u=e.propsOptions[0])&&J(u,t))return o[t]=3,i[t];if(s!==X&&J(s,t))return o[t]=4,s[t];Yr&&(o[t]=0)}}const c=ws[t];let h,d;if(c)return t==="$attrs"&&ce(e.attrs,"get",""),c(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(s!==X&&J(s,t))return o[t]=4,s[t];if(d=l.config.globalProperties,J(d,t))return d[t]},set({_:e},t,s){const{data:r,setupState:n,ctx:i}=e;return Or(n,t)?(n[t]=s,!0):r!==X&&J(r,t)?(r[t]=s,!0):J(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||e!==X&&J(e,o)||Or(t,o)||(a=i[0])&&J(a,o)||J(r,o)||J(ws,o)||J(n.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:J(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Wn(e){return N(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Yr=!0;function Zl(e){const t=Jo(e),s=e.proxy,r=e.ctx;Yr=!1,t.beforeCreate&&zn(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:d,beforeUpdate:g,updated:m,activated:S,deactivated:k,beforeDestroy:j,beforeUnmount:$,destroyed:C,unmounted:x,render:F,renderTracked:le,renderTriggered:re,errorCaptured:Le,serverPrefetch:nt,expose:De,inheritAttrs:it,components:wt,directives:Ue,filters:as}=t;if(u&&ec(u,r,null),o)for(const Q in o){const K=o[Q];B(K)&&(r[Q]=K.bind(s))}if(n){const Q=n.call(s,s);se(Q)&&(e.data=pr(Q))}if(Yr=!0,i)for(const Q in i){const K=i[Q],Je=B(K)?K.bind(s,s):B(K.get)?K.get.bind(s,s):We,ot=!B(K)&&B(K.set)?K.set.bind(s):We,Me=Ce({get:Je,set:ot});Object.defineProperty(r,Q,{enumerable:!0,configurable:!0,get:()=>Me.value,set:me=>Me.value=me})}if(a)for(const Q in a)zo(a[Q],r,s,Q);if(l){const Q=B(l)?l.call(s):l;Reflect.ownKeys(Q).forEach(K=>{Js(K,Q[K])})}c&&zn(c,e,"c");function ie(Q,K){N(K)?K.forEach(Je=>Q(Je.bind(s))):K&&Q(K.bind(s))}if(ie(Vl,h),ie(qo,d),ie(Kl,g),ie(Wl,m),ie(Bl,S),ie(ql,k),ie(Yl,Le),ie(Ql,le),ie(Gl,re),ie(zl,$),ie(Ho,x),ie(Jl,nt),N(De))if(De.length){const Q=e.exposed||(e.exposed={});De.forEach(K=>{Object.defineProperty(Q,K,{get:()=>s[K],set:Je=>s[K]=Je})})}else e.exposed||(e.exposed={});F&&e.render===We&&(e.render=F),it!=null&&(e.inheritAttrs=it),wt&&(e.components=wt),Ue&&(e.directives=Ue),nt&&No(e)}function ec(e,t,s=We){N(e)&&(e=Xr(e));for(const r in e){const n=e[r];let i;se(n)?"default"in n?i=$e(n.from||r,n.default,!0):i=$e(n.from||r):i=$e(n),de(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function zn(e,t,s){ze(N(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,s)}function zo(e,t,s,r){let n=r.includes(".")?la(s,r):()=>s[r];if(ne(e)){const i=t[e];B(i)&&Gs(n,i)}else if(B(e))Gs(n,e.bind(s));else if(se(e))if(N(e))e.forEach(i=>zo(i,t,s,r));else{const i=B(e.handler)?e.handler.bind(s):t[e.handler];B(i)&&Gs(n,i,e)}}function Jo(e){const t=e.type,{mixins:s,extends:r}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!n.length&&!s&&!r?l=t:(l={},n.length&&n.forEach(u=>sr(l,u,o,!0)),sr(l,t,o)),se(t)&&i.set(t,l),l}function sr(e,t,s,r=!1){const{mixins:n,extends:i}=t;i&&sr(e,i,s,!0),n&&n.forEach(o=>sr(e,o,s,!0));for(const o in t)if(!(r&&o==="expose")){const a=tc[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const tc={data:Jn,props:Gn,emits:Gn,methods:ps,computed:ps,beforeCreate:ge,created:ge,beforeMount:ge,mounted:ge,beforeUpdate:ge,updated:ge,beforeDestroy:ge,beforeUnmount:ge,destroyed:ge,unmounted:ge,activated:ge,deactivated:ge,errorCaptured:ge,serverPrefetch:ge,components:ps,directives:ps,watch:rc,provide:Jn,inject:sc};function Jn(e,t){return t?e?function(){return pe(B(e)?e.call(this,this):e,B(t)?t.call(this,this):t)}:t:e}function sc(e,t){return ps(Xr(e),Xr(t))}function Xr(e){if(N(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ge(e,t){return e?[...new Set([].concat(e,t))]:t}function ps(e,t){return e?pe(Object.create(null),e,t):t}function Gn(e,t){return e?N(e)&&N(t)?[...new Set([...e,...t])]:pe(Object.create(null),Wn(e),Wn(t??{})):t}function rc(e,t){if(!e)return t;if(!t)return e;const s=pe(Object.create(null),e);for(const r in t)s[r]=ge(e[r],t[r]);return s}function Go(){return{app:null,config:{isNativeTag:Qa,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nc=0;function ic(e,t){return function(r,n=null){B(r)||(r=pe({},r)),n!=null&&!se(n)&&(n=null);const i=Go(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:nc++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Bc,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&B(c.install)?(o.add(c),c.install(u,...h)):B(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,d){if(!l){const g=u._ceVNode||fe(r,n);return g.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),e(g,c,d),l=!0,u._container=c,c.__vue_app__=u,yr(g.component)}},onUnmount(c){a.push(c)},unmount(){l&&(ze(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=es;es=u;try{return c()}finally{es=h}}};return u}}let es=null;function Js(e,t){if(he){let s=he.provides;const r=he.parent&&he.parent.provides;r===s&&(s=he.provides=Object.create(r)),s[e]=t}}function $e(e,t,s=!1){const r=he||Te;if(r||es){const n=es?es._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&B(t)?t.call(r&&r.proxy):t}}const Qo={},Yo=()=>Object.create(Qo),Xo=e=>Object.getPrototypeOf(e)===Qo;function oc(e,t,s,r=!1){const n={},i=Yo();e.propsDefaults=Object.create(null),Zo(e,t,n,i);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);s?e.props=r?n:xo(n):e.type.props?e.props=n:e.props=i,e.attrs=i}function ac(e,t,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=e,a=z(n),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let d=c[h];if(mr(e.emitsOptions,d))continue;const g=t[d];if(l)if(J(i,d))g!==i[d]&&(i[d]=g,u=!0);else{const m=Re(d);n[m]=Zr(l,a,m,g,e,!1)}else g!==i[d]&&(i[d]=g,u=!0)}}}else{Zo(e,t,n,i)&&(u=!0);let c;for(const h in a)(!t||!J(t,h)&&((c=At(h))===h||!J(t,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=Zr(l,a,h,void 0,e,!0)):delete n[h]);if(i!==a)for(const h in i)(!t||!J(t,h))&&(delete i[h],u=!0)}u&&et(e.attrs,"set","")}function Zo(e,t,s,r){const[n,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(_s(l))continue;const u=t[l];let c;n&&J(n,c=Re(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:mr(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=z(s),u=a||X;for(let c=0;c<i.length;c++){const h=i[c];s[h]=Zr(n,l,h,u[h],e,!J(u,h))}}return o}function Zr(e,t,s,r,n,i){const o=e[s];if(o!=null){const a=J(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&B(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Ds(n);r=u[s]=l.call(null,t),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===At(s))&&(r=!0))}return r}const lc=new WeakMap;function ea(e,t,s=!1){const r=s?lc:t.propsCache,n=r.get(e);if(n)return n;const i=e.props,o={},a=[];let l=!1;if(!B(e)){const c=h=>{l=!0;const[d,g]=ea(h,t,!0);pe(o,d),g&&a.push(...g)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return se(e)&&r.set(e,Gt),Gt;if(N(i))for(let c=0;c<i.length;c++){const h=Re(i[c]);Qn(h)&&(o[h]=X)}else if(i)for(const c in i){const h=Re(c);if(Qn(h)){const d=i[c],g=o[h]=N(d)||B(d)?{type:d}:pe({},d),m=g.type;let S=!1,k=!0;if(N(m))for(let j=0;j<m.length;++j){const $=m[j],C=B($)&&$.name;if(C==="Boolean"){S=!0;break}else C==="String"&&(k=!1)}else S=B(m)&&m.name==="Boolean";g[0]=S,g[1]=k,(S||J(g,"default"))&&a.push(h)}}const u=[o,a];return se(e)&&r.set(e,u),u}function Qn(e){return e[0]!=="$"&&!_s(e)}const ta=e=>e[0]==="_"||e==="$stable",Rn=e=>N(e)?e.map(Ke):[Ke(e)],cc=(e,t,s)=>{if(t._n)return t;const r=Gr((...n)=>Rn(t(...n)),s);return r._c=!1,r},sa=(e,t,s)=>{const r=e._ctx;for(const n in e){if(ta(n))continue;const i=e[n];if(B(i))t[n]=cc(n,i,r);else if(i!=null){const o=Rn(i);t[n]=()=>o}}},ra=(e,t)=>{const s=Rn(t);e.slots.default=()=>s},na=(e,t,s)=>{for(const r in t)(s||r!=="_")&&(e[r]=t[r])},uc=(e,t,s)=>{const r=e.slots=Yo();if(e.vnode.shapeFlag&32){const n=t._;n?(na(r,t,s),s&&lo(r,"_",n,!0)):sa(t,r)}else t&&ra(e,t)},hc=(e,t,s)=>{const{vnode:r,slots:n}=e;let i=!0,o=X;if(r.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:na(n,t,s):(i=!t.$stable,sa(t,n)),o=t}else t&&(ra(e,t),o={default:1});if(i)for(const a in n)!ta(a)&&o[a]==null&&delete n[a]},Se=Tc;function fc(e){return dc(e)}function dc(e,t){const s=hr();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:d,setScopeId:g=We,insertStaticContent:m}=e,S=(f,p,_,v=null,b=null,w=null,O=void 0,P=null,T=!!p.dynamicChildren)=>{if(f===p)return;f&&!us(f,p)&&(v=y(f),me(f,b,w,!0),f=null),p.patchFlag===-2&&(T=!1,p.dynamicChildren=null);const{type:E,ref:U,shapeFlag:A}=p;switch(E){case vr:k(f,p,_,v);break;case Rt:j(f,p,_,v);break;case Ar:f==null&&$(p,_,v,O);break;case Ze:wt(f,p,_,v,b,w,O,P,T);break;default:A&1?F(f,p,_,v,b,w,O,P,T):A&6?Ue(f,p,_,v,b,w,O,P,T):(A&64||A&128)&&E.process(f,p,_,v,b,w,O,P,T,L)}U!=null&&b&&tr(U,f&&f.ref,w,p||f,!p)},k=(f,p,_,v)=>{if(f==null)r(p.el=a(p.children),_,v);else{const b=p.el=f.el;p.children!==f.children&&u(b,p.children)}},j=(f,p,_,v)=>{f==null?r(p.el=l(p.children||""),_,v):p.el=f.el},$=(f,p,_,v)=>{[f.el,f.anchor]=m(f.children,p,_,v,f.el,f.anchor)},C=({el:f,anchor:p},_,v)=>{let b;for(;f&&f!==p;)b=d(f),r(f,_,v),f=b;r(p,_,v)},x=({el:f,anchor:p})=>{let _;for(;f&&f!==p;)_=d(f),n(f),f=_;n(p)},F=(f,p,_,v,b,w,O,P,T)=>{p.type==="svg"?O="svg":p.type==="math"&&(O="mathml"),f==null?le(p,_,v,b,w,O,P,T):nt(f,p,b,w,O,P,T)},le=(f,p,_,v,b,w,O,P)=>{let T,E;const{props:U,shapeFlag:A,transition:D,dirs:M}=f;if(T=f.el=o(f.type,w,U&&U.is,U),A&8?c(T,f.children):A&16&&Le(f.children,T,null,v,b,Rr(f,w),O,P),M&&bt(f,null,v,"created"),re(T,f,f.scopeId,O,v),U){for(const Z in U)Z!=="value"&&!_s(Z)&&i(T,Z,null,U[Z],w,v);"value"in U&&i(T,"value",null,U.value,w),(E=U.onVnodeBeforeMount)&&qe(E,v,f)}M&&bt(f,null,v,"beforeMount");const V=pc(b,D);V&&D.beforeEnter(T),r(T,p,_),((E=U&&U.onVnodeMounted)||V||M)&&Se(()=>{E&&qe(E,v,f),V&&D.enter(T),M&&bt(f,null,v,"mounted")},b)},re=(f,p,_,v,b)=>{if(_&&g(f,_),v)for(let w=0;w<v.length;w++)g(f,v[w]);if(b){let w=b.subTree;if(p===w||ua(w.type)&&(w.ssContent===p||w.ssFallback===p)){const O=b.vnode;re(f,O,O.scopeId,O.slotScopeIds,b.parent)}}},Le=(f,p,_,v,b,w,O,P,T=0)=>{for(let E=T;E<f.length;E++){const U=f[E]=P?ht(f[E]):Ke(f[E]);S(null,U,p,_,v,b,w,O,P)}},nt=(f,p,_,v,b,w,O)=>{const P=p.el=f.el;let{patchFlag:T,dynamicChildren:E,dirs:U}=p;T|=f.patchFlag&16;const A=f.props||X,D=p.props||X;let M;if(_&&St(_,!1),(M=D.onVnodeBeforeUpdate)&&qe(M,_,p,f),U&&bt(p,f,_,"beforeUpdate"),_&&St(_,!0),(A.innerHTML&&D.innerHTML==null||A.textContent&&D.textContent==null)&&c(P,""),E?De(f.dynamicChildren,E,P,_,v,Rr(p,b),w):O||K(f,p,P,null,_,v,Rr(p,b),w,!1),T>0){if(T&16)it(P,A,D,_,b);else if(T&2&&A.class!==D.class&&i(P,"class",null,D.class,b),T&4&&i(P,"style",A.style,D.style,b),T&8){const V=p.dynamicProps;for(let Z=0;Z<V.length;Z++){const G=V[Z],we=A[G],ve=D[G];(ve!==we||G==="value")&&i(P,G,we,ve,b,_)}}T&1&&f.children!==p.children&&c(P,p.children)}else!O&&E==null&&it(P,A,D,_,b);((M=D.onVnodeUpdated)||U)&&Se(()=>{M&&qe(M,_,p,f),U&&bt(p,f,_,"updated")},v)},De=(f,p,_,v,b,w,O)=>{for(let P=0;P<p.length;P++){const T=f[P],E=p[P],U=T.el&&(T.type===Ze||!us(T,E)||T.shapeFlag&70)?h(T.el):_;S(T,E,U,null,v,b,w,O,!0)}},it=(f,p,_,v,b)=>{if(p!==_){if(p!==X)for(const w in p)!_s(w)&&!(w in _)&&i(f,w,p[w],null,b,v);for(const w in _){if(_s(w))continue;const O=_[w],P=p[w];O!==P&&w!=="value"&&i(f,w,P,O,b,v)}"value"in _&&i(f,"value",p.value,_.value,b)}},wt=(f,p,_,v,b,w,O,P,T)=>{const E=p.el=f?f.el:a(""),U=p.anchor=f?f.anchor:a("");let{patchFlag:A,dynamicChildren:D,slotScopeIds:M}=p;M&&(P=P?P.concat(M):M),f==null?(r(E,_,v),r(U,_,v),Le(p.children||[],_,U,b,w,O,P,T)):A>0&&A&64&&D&&f.dynamicChildren?(De(f.dynamicChildren,D,_,b,w,O,P),(p.key!=null||b&&p===b.subTree)&&ia(f,p,!0)):K(f,p,_,U,b,w,O,P,T)},Ue=(f,p,_,v,b,w,O,P,T)=>{p.slotScopeIds=P,f==null?p.shapeFlag&512?b.ctx.activate(p,_,v,O,T):as(p,_,v,b,w,O,T):jt(f,p,T)},as=(f,p,_,v,b,w,O)=>{const P=f.component=Ic(f,v,b);if(Fo(f)&&(P.ctx.renderer=L),Lc(P,!1,O),P.asyncDep){if(b&&b.registerDep(P,ie,O),!f.el){const T=P.subTree=fe(Rt);j(null,T,p,_)}}else ie(P,f,p,_,b,w,O)},jt=(f,p,_)=>{const v=p.component=f.component;if(Ec(f,p,_))if(v.asyncDep&&!v.asyncResolved){Q(v,p,_);return}else v.next=p,v.update();else p.el=f.el,v.vnode=p},ie=(f,p,_,v,b,w,O)=>{const P=()=>{if(f.isMounted){let{next:A,bu:D,u:M,parent:V,vnode:Z}=f;{const Fe=oa(f);if(Fe){A&&(A.el=Z.el,Q(f,A,O)),Fe.asyncDep.then(()=>{f.isUnmounted||P()});return}}let G=A,we;St(f,!1),A?(A.el=Z.el,Q(f,A,O)):A=Z,D&&zs(D),(we=A.props&&A.props.onVnodeBeforeUpdate)&&qe(we,V,A,Z),St(f,!0);const ve=Xn(f),Ne=f.subTree;f.subTree=ve,S(Ne,ve,h(Ne.el),y(Ne),f,b,w),A.el=ve.el,G===null&&kc(f,ve.el),M&&Se(M,b),(we=A.props&&A.props.onVnodeUpdated)&&Se(()=>qe(we,V,A,Z),b)}else{let A;const{el:D,props:M}=p,{bm:V,m:Z,parent:G,root:we,type:ve}=f,Ne=ys(p);St(f,!1),V&&zs(V),!Ne&&(A=M&&M.onVnodeBeforeMount)&&qe(A,G,p),St(f,!0);{we.ce&&we.ce._injectChildStyle(ve);const Fe=f.subTree=Xn(f);S(null,Fe,_,v,f,b,w),p.el=Fe.el}if(Z&&Se(Z,b),!Ne&&(A=M&&M.onVnodeMounted)){const Fe=p;Se(()=>qe(A,G,Fe),b)}(p.shapeFlag&256||G&&ys(G.vnode)&&G.vnode.shapeFlag&256)&&f.a&&Se(f.a,b),f.isMounted=!0,p=_=v=null}};f.scope.on();const T=f.effect=new fo(P);f.scope.off();const E=f.update=T.run.bind(T),U=f.job=T.runIfDirty.bind(T);U.i=f,U.id=f.uid,T.scheduler=()=>xn(U),St(f,!0),E()},Q=(f,p,_)=>{p.component=f;const v=f.vnode.props;f.vnode=p,f.next=null,ac(f,p.props,v,_),hc(f,p.children,_),mt(),Hn(f),vt()},K=(f,p,_,v,b,w,O,P,T=!1)=>{const E=f&&f.children,U=f?f.shapeFlag:0,A=p.children,{patchFlag:D,shapeFlag:M}=p;if(D>0){if(D&128){ot(E,A,_,v,b,w,O,P,T);return}else if(D&256){Je(E,A,_,v,b,w,O,P,T);return}}M&8?(U&16&&xe(E,b,w),A!==E&&c(_,A)):U&16?M&16?ot(E,A,_,v,b,w,O,P,T):xe(E,b,w,!0):(U&8&&c(_,""),M&16&&Le(A,_,v,b,w,O,P,T))},Je=(f,p,_,v,b,w,O,P,T)=>{f=f||Gt,p=p||Gt;const E=f.length,U=p.length,A=Math.min(E,U);let D;for(D=0;D<A;D++){const M=p[D]=T?ht(p[D]):Ke(p[D]);S(f[D],M,_,null,b,w,O,P,T)}E>U?xe(f,b,w,!0,!1,A):Le(p,_,v,b,w,O,P,T,A)},ot=(f,p,_,v,b,w,O,P,T)=>{let E=0;const U=p.length;let A=f.length-1,D=U-1;for(;E<=A&&E<=D;){const M=f[E],V=p[E]=T?ht(p[E]):Ke(p[E]);if(us(M,V))S(M,V,_,null,b,w,O,P,T);else break;E++}for(;E<=A&&E<=D;){const M=f[A],V=p[D]=T?ht(p[D]):Ke(p[D]);if(us(M,V))S(M,V,_,null,b,w,O,P,T);else break;A--,D--}if(E>A){if(E<=D){const M=D+1,V=M<U?p[M].el:v;for(;E<=D;)S(null,p[E]=T?ht(p[E]):Ke(p[E]),_,V,b,w,O,P,T),E++}}else if(E>D)for(;E<=A;)me(f[E],b,w,!0),E++;else{const M=E,V=E,Z=new Map;for(E=V;E<=D;E++){const be=p[E]=T?ht(p[E]):Ke(p[E]);be.key!=null&&Z.set(be.key,E)}let G,we=0;const ve=D-V+1;let Ne=!1,Fe=0;const ls=new Array(ve);for(E=0;E<ve;E++)ls[E]=0;for(E=M;E<=A;E++){const be=f[E];if(we>=ve){me(be,b,w,!0);continue}let Be;if(be.key!=null)Be=Z.get(be.key);else for(G=V;G<=D;G++)if(ls[G-V]===0&&us(be,p[G])){Be=G;break}Be===void 0?me(be,b,w,!0):(ls[Be-V]=E+1,Be>=Fe?Fe=Be:Ne=!0,S(be,p[Be],_,null,b,w,O,P,T),we++)}const Mn=Ne?gc(ls):Gt;for(G=Mn.length-1,E=ve-1;E>=0;E--){const be=V+E,Be=p[be],Nn=be+1<U?p[be+1].el:v;ls[E]===0?S(null,Be,_,Nn,b,w,O,P,T):Ne&&(G<0||E!==Mn[G]?Me(Be,_,Nn,2):G--)}}},Me=(f,p,_,v,b=null)=>{const{el:w,type:O,transition:P,children:T,shapeFlag:E}=f;if(E&6){Me(f.component.subTree,p,_,v);return}if(E&128){f.suspense.move(p,_,v);return}if(E&64){O.move(f,p,_,L);return}if(O===Ze){r(w,p,_);for(let A=0;A<T.length;A++)Me(T[A],p,_,v);r(f.anchor,p,_);return}if(O===Ar){C(f,p,_);return}if(v!==2&&E&1&&P)if(v===0)P.beforeEnter(w),r(w,p,_),Se(()=>P.enter(w),b);else{const{leave:A,delayLeave:D,afterLeave:M}=P,V=()=>r(w,p,_),Z=()=>{A(w,()=>{V(),M&&M()})};D?D(w,V,Z):Z()}else r(w,p,_)},me=(f,p,_,v=!1,b=!1)=>{const{type:w,props:O,ref:P,children:T,dynamicChildren:E,shapeFlag:U,patchFlag:A,dirs:D,cacheIndex:M}=f;if(A===-2&&(b=!1),P!=null&&tr(P,null,_,f,!0),M!=null&&(p.renderCache[M]=void 0),U&256){p.ctx.deactivate(f);return}const V=U&1&&D,Z=!ys(f);let G;if(Z&&(G=O&&O.onVnodeBeforeUnmount)&&qe(G,p,f),U&6)Ms(f.component,_,v);else{if(U&128){f.suspense.unmount(_,v);return}V&&bt(f,null,p,"beforeUnmount"),U&64?f.type.remove(f,p,_,L,v):E&&!E.hasOnce&&(w!==Ze||A>0&&A&64)?xe(E,p,_,!1,!0):(w===Ze&&A&384||!b&&U&16)&&xe(T,p,_),v&&$t(f)}(Z&&(G=O&&O.onVnodeUnmounted)||V)&&Se(()=>{G&&qe(G,p,f),V&&bt(f,null,p,"unmounted")},_)},$t=f=>{const{type:p,el:_,anchor:v,transition:b}=f;if(p===Ze){It(_,v);return}if(p===Ar){x(f);return}const w=()=>{n(_),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(f.shapeFlag&1&&b&&!b.persisted){const{leave:O,delayLeave:P}=b,T=()=>O(_,w);P?P(f.el,w,T):T()}else w()},It=(f,p)=>{let _;for(;f!==p;)_=d(f),n(f),f=_;n(p)},Ms=(f,p,_)=>{const{bum:v,scope:b,job:w,subTree:O,um:P,m:T,a:E}=f;Yn(T),Yn(E),v&&zs(v),b.stop(),w&&(w.flags|=8,me(O,f,p,_)),P&&Se(P,p),Se(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},xe=(f,p,_,v=!1,b=!1,w=0)=>{for(let O=w;O<f.length;O++)me(f[O],p,_,v,b)},y=f=>{if(f.shapeFlag&6)return y(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const p=d(f.anchor||f.el),_=p&&p[Nl];return _?d(_):p};let I=!1;const R=(f,p,_)=>{f==null?p._vnode&&me(p._vnode,null,null,!0):S(p._vnode||null,f,p,null,null,null,_),p._vnode=f,I||(I=!0,Hn(),Lo(),I=!1)},L={p:S,um:me,m:Me,r:$t,mt:as,mc:Le,pc:K,pbc:De,n:y,o:e};return{render:R,hydrate:void 0,createApp:ic(R)}}function Rr({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function St({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function pc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ia(e,t,s=!1){const r=e.children,n=t.children;if(N(r)&&N(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=ht(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&ia(o,a)),a.type===vr&&(a.el=o.el)}}function gc(e){const t=e.slice(),s=[0];let r,n,i,o,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(n=s[s.length-1],e[n]<u){t[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<u?i=a+1:o=a;u<e[s[i]]&&(i>0&&(t[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function oa(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:oa(t)}function Yn(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const _c=Symbol.for("v-scx"),mc=()=>$e(_c);function Gs(e,t,s){return aa(e,t,s)}function aa(e,t,s=X){const{immediate:r,deep:n,flush:i,once:o}=s,a=pe({},s),l=t&&r||!t&&i!=="post";let u;if(Cs){if(i==="sync"){const g=mc();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=We,g.resume=We,g.pause=We,g}}const c=he;a.call=(g,m,S)=>ze(g,c,m,S);let h=!1;i==="post"?a.scheduler=g=>{Se(g,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,m)=>{m?g():xn(g)}),a.augmentJob=g=>{t&&(g.flags|=4),h&&(g.flags|=2,c&&(g.id=c.uid,g.i=c))};const d=Ll(e,t,a);return Cs&&(u?u.push(d):l&&d()),d}function vc(e,t,s){const r=this.proxy,n=ne(e)?e.includes(".")?la(r,e):()=>r[e]:e.bind(r,r);let i;B(t)?i=t:(i=t.handler,s=t);const o=Ds(this),a=aa(n,i.bind(r),s);return o(),a}function la(e,t){const s=t.split(".");return()=>{let r=e;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const yc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Re(t)}Modifiers`]||e[`${At(t)}Modifiers`];function wc(e,t,...s){if(e.isUnmounted)return;const r=e.vnode.props||X;let n=s;const i=t.startsWith("update:"),o=i&&yc(r,t.slice(7));o&&(o.trim&&(n=s.map(c=>ne(c)?c.trim():c)),o.number&&(n=s.map(Hr)));let a,l=r[a=Er(t)]||r[a=Er(Re(t))];!l&&i&&(l=r[a=Er(At(t))]),l&&ze(l,e,6,n);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ze(u,e,6,n)}}function ca(e,t,s=!1){const r=t.emitsCache,n=r.get(e);if(n!==void 0)return n;const i=e.emits;let o={},a=!1;if(!B(e)){const l=u=>{const c=ca(u,t,!0);c&&(a=!0,pe(o,c))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(se(e)&&r.set(e,null),null):(N(i)?i.forEach(l=>o[l]=null):pe(o,i),se(e)&&r.set(e,o),o)}function mr(e,t){return!e||!ar(t)?!1:(t=t.slice(2).replace(/Once$/,""),J(e,t[0].toLowerCase()+t.slice(1))||J(e,At(t))||J(e,t))}function Xn(e){const{type:t,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:d,setupState:g,ctx:m,inheritAttrs:S}=e,k=er(e);let j,$;try{if(s.shapeFlag&4){const x=n||r,F=x;j=Ke(u.call(F,x,c,h,g,d,m)),$=a}else{const x=t;j=Ke(x.length>1?x(h,{attrs:a,slots:o,emit:l}):x(h,null)),$=t.props?a:bc(a)}}catch(x){bs.length=0,gr(x,e,1),j=fe(Rt)}let C=j;if($&&S!==!1){const x=Object.keys($),{shapeFlag:F}=C;x.length&&F&7&&(i&&x.some(_n)&&($=Sc($,i)),C=ss(C,$,!1,!0))}return s.dirs&&(C=ss(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(s.dirs):s.dirs),s.transition&&On(C,s.transition),j=C,er(k),j}const bc=e=>{let t;for(const s in e)(s==="class"||s==="style"||ar(s))&&((t||(t={}))[s]=e[s]);return t},Sc=(e,t)=>{const s={};for(const r in e)(!_n(r)||!(r.slice(9)in t))&&(s[r]=e[r]);return s};function Ec(e,t,s){const{props:r,children:n,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Zn(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const d=c[h];if(o[d]!==r[d]&&!mr(u,d))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Zn(r,o,u):!0:!!o;return!1}function Zn(e,t,s){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(t[i]!==e[i]&&!mr(s,i))return!0}return!1}function kc({vnode:e,parent:t},s){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=s,t=t.parent;else break}}const ua=e=>e.__isSuspense;function Tc(e,t){t&&t.pendingBranch?N(e)?t.effects.push(...e):t.effects.push(e):Ml(e)}const Ze=Symbol.for("v-fgt"),vr=Symbol.for("v-txt"),Rt=Symbol.for("v-cmt"),Ar=Symbol.for("v-stc"),bs=[];let Pe=null;function ha(e=!1){bs.push(Pe=e?null:[])}function Pc(){bs.pop(),Pe=bs[bs.length-1]||null}let As=1;function ei(e,t=!1){As+=e,e<0&&Pe&&t&&(Pe.hasOnce=!0)}function fa(e){return e.dynamicChildren=As>0?Pe||Gt:null,Pc(),As>0&&Pe&&Pe.push(e),e}function xc(e,t,s,r,n,i){return fa(Jt(e,t,s,r,n,i,!0))}function Oc(e,t,s,r,n){return fa(fe(e,t,s,r,n,!0))}function rr(e){return e?e.__v_isVNode===!0:!1}function us(e,t){return e.type===t.type&&e.key===t.key}const da=({key:e})=>e??null,Qs=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?ne(e)||de(e)||B(e)?{i:Te,r:e,k:t,f:!!s}:e:null);function Jt(e,t=null,s=null,r=0,n=null,i=e===Ze?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&da(t),ref:t&&Qs(t),scopeId:Uo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Te};return a?(An(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=ne(s)?8:16),As>0&&!o&&Pe&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Pe.push(l),l}const fe=Rc;function Rc(e,t=null,s=null,r=0,n=null,i=!1){if((!e||e===Ko)&&(e=Rt),rr(e)){const a=ss(e,t,!0);return s&&An(a,s),As>0&&!i&&Pe&&(a.shapeFlag&6?Pe[Pe.indexOf(e)]=a:Pe.push(a)),a.patchFlag=-2,a}if(Fc(e)&&(e=e.__vccOpts),t){t=Ac(t);let{class:a,style:l}=t;a&&!ne(a)&&(t.class=fr(a)),se(l)&&(Pn(l)&&!N(l)&&(l=pe({},l)),t.style=yn(l))}const o=ne(e)?1:ua(e)?128:Fl(e)?64:se(e)?4:B(e)?2:0;return Jt(e,t,s,r,n,o,i,!0)}function Ac(e){return e?Pn(e)||Xo(e)?pe({},e):e:null}function ss(e,t,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=e,u=t?Cc(n||{},t):n,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&da(u),ref:t&&t.ref?s&&i?N(i)?i.concat(Qs(t)):[i,Qs(t)]:Qs(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ze?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ss(e.ssContent),ssFallback:e.ssFallback&&ss(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&On(c,l.clone(c)),c}function en(e=" ",t=0){return fe(vr,null,e,t)}function Id(e="",t=!1){return t?(ha(),Oc(Rt,null,e)):fe(Rt,null,e)}function Ke(e){return e==null||typeof e=="boolean"?fe(Rt):N(e)?fe(Ze,null,e.slice()):rr(e)?ht(e):fe(vr,null,String(e))}function ht(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ss(e)}function An(e,t){let s=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(N(t))s=16;else if(typeof t=="object")if(r&65){const n=t.default;n&&(n._c&&(n._d=!1),An(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!Xo(t)?t._ctx=Te:n===3&&Te&&(Te.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else B(t)?(t={default:t,_ctx:Te},s=32):(t=String(t),r&64?(s=16,t=[en(t)]):s=8);e.children=t,e.shapeFlag|=s}function Cc(...e){const t={};for(let s=0;s<e.length;s++){const r=e[s];for(const n in r)if(n==="class")t.class!==r.class&&(t.class=fr([t.class,r.class]));else if(n==="style")t.style=yn([t.style,r.style]);else if(ar(n)){const i=t[n],o=r[n];o&&i!==o&&!(N(i)&&i.includes(o))&&(t[n]=i?[].concat(i,o):o)}else n!==""&&(t[n]=r[n])}return t}function qe(e,t,s,r=null){ze(e,t,7,[s,r])}const jc=Go();let $c=0;function Ic(e,t,s){const r=e.type,n=(t?t.appContext:e.appContext)||jc,i={uid:$c++,vnode:e,type:r,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ll(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ea(r,n),emitsOptions:ca(r,n),emit:null,emitted:null,propsDefaults:X,inheritAttrs:r.inheritAttrs,ctx:X,data:X,props:X,attrs:X,slots:X,refs:X,setupState:X,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=wc.bind(null,i),e.ce&&e.ce(i),i}let he=null,nr,tn;{const e=hr(),t=(s,r)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};nr=t("__VUE_INSTANCE_SETTERS__",s=>he=s),tn=t("__VUE_SSR_SETTERS__",s=>Cs=s)}const Ds=e=>{const t=he;return nr(e),e.scope.on(),()=>{e.scope.off(),nr(t)}},ti=()=>{he&&he.scope.off(),nr(null)};function pa(e){return e.vnode.shapeFlag&4}let Cs=!1;function Lc(e,t=!1,s=!1){t&&tn(t);const{props:r,children:n}=e.vnode,i=pa(e);oc(e,r,i,t),uc(e,n,s);const o=i?Dc(e,t):void 0;return t&&tn(!1),o}function Dc(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Xl);const{setup:r}=s;if(r){mt();const n=e.setupContext=r.length>1?Mc(e):null,i=Ds(e),o=Ls(r,e,0,[e.props,n]),a=io(o);if(vt(),i(),(a||e.sp)&&!ys(e)&&No(e),a){if(o.then(ti,ti),t)return o.then(l=>{si(e,l)}).catch(l=>{gr(l,e,0)});e.asyncDep=o}else si(e,o)}else ga(e)}function si(e,t,s){B(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:se(t)&&(e.setupState=Co(t)),ga(e)}function ga(e,t,s){const r=e.type;e.render||(e.render=r.render||We);{const n=Ds(e);mt();try{Zl(e)}finally{vt(),n()}}}const Uc={get(e,t){return ce(e,"get",""),e[t]}};function Mc(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Uc),slots:e.slots,emit:e.emit,expose:t}}function yr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Co(Ol(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ws)return ws[s](e)},has(t,s){return s in t||s in ws}})):e.proxy}function Nc(e,t=!0){return B(e)?e.displayName||e.name:e.name||t&&e.__name}function Fc(e){return B(e)&&"__vccOpts"in e}const Ce=(e,t)=>$l(e,t,Cs);function _a(e,t,s){const r=arguments.length;return r===2?se(t)&&!N(t)?rr(t)?fe(e,null,[t]):fe(e,t):fe(e,null,t):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&rr(s)&&(s=[s]),fe(e,t,s))}const Bc="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let sn;const ri=typeof window<"u"&&window.trustedTypes;if(ri)try{sn=ri.createPolicy("vue",{createHTML:e=>e})}catch{}const ma=sn?e=>sn.createHTML(e):e=>e,qc="http://www.w3.org/2000/svg",Hc="http://www.w3.org/1998/Math/MathML",Ye=typeof document<"u"?document:null,ni=Ye&&Ye.createElement("template"),Vc={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,r)=>{const n=t==="svg"?Ye.createElementNS(qc,e):t==="mathml"?Ye.createElementNS(Hc,e):s?Ye.createElement(e,{is:s}):Ye.createElement(e);return e==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:e=>Ye.createTextNode(e),createComment:e=>Ye.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ye.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,r,n,i){const o=s?s.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{ni.innerHTML=ma(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=ni.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Kc=Symbol("_vtc");function Wc(e,t,s){const r=e[Kc];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const ii=Symbol("_vod"),zc=Symbol("_vsh"),Jc=Symbol(""),Gc=/(^|;)\s*display\s*:/;function Qc(e,t,s){const r=e.style,n=ne(s);let i=!1;if(s&&!n){if(t)if(ne(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Ys(r,a,"")}else for(const o in t)s[o]==null&&Ys(r,o,"");for(const o in s)o==="display"&&(i=!0),Ys(r,o,s[o])}else if(n){if(t!==s){const o=r[Jc];o&&(s+=";"+o),r.cssText=s,i=Gc.test(s)}}else t&&e.removeAttribute("style");ii in e&&(e[ii]=i?r.display:"",e[zc]&&(r.display="none"))}const oi=/\s*!important$/;function Ys(e,t,s){if(N(s))s.forEach(r=>Ys(e,t,r));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const r=Yc(e,t);oi.test(s)?e.setProperty(At(r),s.replace(oi,""),"important"):e[r]=s}}const ai=["Webkit","Moz","ms"],Cr={};function Yc(e,t){const s=Cr[t];if(s)return s;let r=Re(t);if(r!=="filter"&&r in e)return Cr[t]=r;r=ur(r);for(let n=0;n<ai.length;n++){const i=ai[n]+r;if(i in e)return Cr[t]=i}return t}const li="http://www.w3.org/1999/xlink";function ci(e,t,s,r,n,i=ol(t)){r&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(li,t.slice(6,t.length)):e.setAttributeNS(li,t,s):s==null||i&&!co(s)?e.removeAttribute(t):e.setAttribute(t,i?"":_t(s)?String(s):s)}function ui(e,t,s,r,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?ma(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=co(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(n||t)}function Kt(e,t,s,r){e.addEventListener(t,s,r)}function Xc(e,t,s,r){e.removeEventListener(t,s,r)}const hi=Symbol("_vei");function Zc(e,t,s,r,n=null){const i=e[hi]||(e[hi]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=eu(t);if(r){const u=i[t]=ru(r,n);Kt(e,a,u,l)}else o&&(Xc(e,a,o,l),i[t]=void 0)}}const fi=/(?:Once|Passive|Capture)$/;function eu(e){let t;if(fi.test(e)){t={};let r;for(;r=e.match(fi);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):At(e.slice(2)),t]}let jr=0;const tu=Promise.resolve(),su=()=>jr||(tu.then(()=>jr=0),jr=Date.now());function ru(e,t){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;ze(nu(r,s.value),t,5,[r])};return s.value=e,s.attached=su(),s}function nu(e,t){if(N(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(r=>n=>!n._stopped&&r&&r(n))}else return t}const di=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,iu=(e,t,s,r,n,i)=>{const o=n==="svg";t==="class"?Wc(e,r,o):t==="style"?Qc(e,s,r):ar(t)?_n(t)||Zc(e,t,s,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ou(e,t,r,o))?(ui(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ci(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ne(r))?ui(e,Re(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),ci(e,t,r,o))};function ou(e,t,s,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&di(t)&&B(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return di(t)&&ne(s)?!1:t in e}const pi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return N(t)?s=>zs(t,s):t};function au(e){e.target.composing=!0}function gi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const $r=Symbol("_assign"),Ld={created(e,{modifiers:{lazy:t,trim:s,number:r}},n){e[$r]=pi(n);const i=r||n.props&&n.props.type==="number";Kt(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;s&&(a=a.trim()),i&&(a=Hr(a)),e[$r](a)}),s&&Kt(e,"change",()=>{e.value=e.value.trim()}),t||(Kt(e,"compositionstart",au),Kt(e,"compositionend",gi),Kt(e,"change",gi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(e[$r]=pi(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?Hr(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===s||n&&e.value.trim()===l)||(e.value=l))}},lu=["ctrl","shift","alt","meta"],cu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>lu.some(s=>e[`${s}Key`]&&!t.includes(s))},Dd=(e,t)=>{const s=e._withMods||(e._withMods={}),r=t.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<t.length;o++){const a=cu[t[o]];if(a&&a(n,t))return}return e(n,...i)})},uu=pe({patchProp:iu},Vc);let _i;function hu(){return _i||(_i=fc(uu))}const fu=(...e)=>{const t=hu().createApp(...e),{mount:s}=t;return t.mount=r=>{const n=pu(r);if(!n)return;const i=t._component;!B(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,du(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function du(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function pu(e){return ne(e)?document.querySelector(e):e}const gu="modulepreload",_u=function(e){return"/supabase-test/"+e},mi={},st=function(t,s,r){let n=Promise.resolve();if(s&&s.length>0){let o=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=o(s.map(u=>{if(u=_u(u),u in mi)return;mi[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":gu,c||(d.as="script"),d.crossOrigin="",d.href=u,l&&d.setAttribute("nonce",l),document.head.appendChild(d),c)return new Promise((g,m)=>{d.addEventListener("load",g),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Wt=typeof document<"u";function va(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function mu(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&va(e.default)}const W=Object.assign;function Ir(e,t){const s={};for(const r in t){const n=t[r];s[r]=Ie(n)?n.map(e):e(n)}return s}const Ss=()=>{},Ie=Array.isArray,ya=/#/g,vu=/&/g,yu=/\//g,wu=/=/g,bu=/\?/g,wa=/\+/g,Su=/%5B/g,Eu=/%5D/g,ba=/%5E/g,ku=/%60/g,Sa=/%7B/g,Tu=/%7C/g,Ea=/%7D/g,Pu=/%20/g;function Cn(e){return encodeURI(""+e).replace(Tu,"|").replace(Su,"[").replace(Eu,"]")}function xu(e){return Cn(e).replace(Sa,"{").replace(Ea,"}").replace(ba,"^")}function rn(e){return Cn(e).replace(wa,"%2B").replace(Pu,"+").replace(ya,"%23").replace(vu,"%26").replace(ku,"`").replace(Sa,"{").replace(Ea,"}").replace(ba,"^")}function Ou(e){return rn(e).replace(wu,"%3D")}function Ru(e){return Cn(e).replace(ya,"%23").replace(bu,"%3F")}function Au(e){return e==null?"":Ru(e).replace(yu,"%2F")}function js(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Cu=/\/$/,ju=e=>e.replace(Cu,"");function Lr(e,t,s="/"){let r,n={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),n=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=Du(r??t,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:js(o)}}function $u(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function vi(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Iu(e,t,s){const r=t.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&rs(t.matched[r],s.matched[n])&&ka(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function rs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ka(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Lu(e[s],t[s]))return!1;return!0}function Lu(e,t){return Ie(e)?yi(e,t):Ie(t)?yi(t,e):e===t}function yi(e,t){return Ie(t)?e.length===t.length&&e.every((s,r)=>s===t[r]):e.length===1&&e[0]===t}function Du(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),r=e.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const at={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var $s;(function(e){e.pop="pop",e.push="push"})($s||($s={}));var Es;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Es||(Es={}));function Uu(e){if(!e)if(Wt){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ju(e)}const Mu=/^[^#]+#/;function Nu(e,t){return e.replace(Mu,"#")+t}function Fu(e,t){const s=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-s.left-(t.left||0),top:r.top-s.top-(t.top||0)}}const wr=()=>({left:window.scrollX,top:window.scrollY});function Bu(e){let t;if("el"in e){const s=e.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;t=Fu(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function wi(e,t){return(history.state?history.state.position-t:-1)+e}const nn=new Map;function qu(e,t){nn.set(e,t)}function Hu(e){const t=nn.get(e);return nn.delete(e),t}let Vu=()=>location.protocol+"//"+location.host;function Ta(e,t){const{pathname:s,search:r,hash:n}=t,i=e.indexOf("#");if(i>-1){let a=n.includes(e.slice(i))?e.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),vi(l,"")}return vi(s,e)+r+n}function Ku(e,t,s,r){let n=[],i=[],o=null;const a=({state:d})=>{const g=Ta(e,location),m=s.value,S=t.value;let k=0;if(d){if(s.value=g,t.value=d,o&&o===m){o=null;return}k=S?d.position-S.position:0}else r(g);n.forEach(j=>{j(s.value,m,{delta:k,type:$s.pop,direction:k?k>0?Es.forward:Es.back:Es.unknown})})};function l(){o=s.value}function u(d){n.push(d);const g=()=>{const m=n.indexOf(d);m>-1&&n.splice(m,1)};return i.push(g),g}function c(){const{history:d}=window;d.state&&d.replaceState(W({},d.state,{scroll:wr()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function bi(e,t,s,r=!1,n=!1){return{back:e,current:t,forward:s,replaced:r,position:window.history.length,scroll:n?wr():null}}function Wu(e){const{history:t,location:s}=window,r={value:Ta(e,s)},n={value:t.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=e.indexOf("#"),d=h>-1?(s.host&&document.querySelector("base")?e:e.slice(h))+l:Vu()+e+l;try{t[c?"replaceState":"pushState"](u,"",d),n.value=u}catch(g){console.error(g),s[c?"replace":"assign"](d)}}function o(l,u){const c=W({},t.state,bi(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=W({},n.value,t.state,{forward:l,scroll:wr()});i(c.current,c,!0);const h=W({},bi(r.value,l,null),{position:c.position+1},u);i(l,h,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function zu(e){e=Uu(e);const t=Wu(e),s=Ku(e,t.state,t.location,t.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=W({location:"",base:e,go:r,createHref:Nu.bind(null,e)},t,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function Ju(e){return typeof e=="string"||e&&typeof e=="object"}function Pa(e){return typeof e=="string"||typeof e=="symbol"}const xa=Symbol("");var Si;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Si||(Si={}));function ns(e,t){return W(new Error,{type:e,[xa]:!0},t)}function Qe(e,t){return e instanceof Error&&xa in e&&(t==null||!!(e.type&t))}const Ei="[^/]+?",Gu={sensitive:!1,strict:!1,start:!0,end:!0},Qu=/[.+*?^${}()[\]/\\]/g;function Yu(e,t){const s=W({},Gu,t),r=[];let n=s.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let h=0;h<u.length;h++){const d=u[h];let g=40+(s.sensitive?.25:0);if(d.type===0)h||(n+="/"),n+=d.value.replace(Qu,"\\$&"),g+=40;else if(d.type===1){const{value:m,repeatable:S,optional:k,regexp:j}=d;i.push({name:m,repeatable:S,optional:k});const $=j||Ei;if($!==Ei){g+=10;try{new RegExp(`(${$})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${m}" (${$}): `+x.message)}}let C=S?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;h||(C=k&&u.length<2?`(?:/${C})`:"/"+C),k&&(C+="?"),n+=C,g+=20,k&&(g+=-8),S&&(g+=-20),$===".*"&&(g+=-50)}c.push(g)}r.push(c)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let d=1;d<c.length;d++){const g=c[d]||"",m=i[d-1];h[m.name]=g&&m.repeatable?g.split("/"):g}return h}function l(u){let c="",h=!1;for(const d of e){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const g of d)if(g.type===0)c+=g.value;else if(g.type===1){const{value:m,repeatable:S,optional:k}=g,j=m in u?u[m]:"";if(Ie(j)&&!S)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const $=Ie(j)?j.join("/"):j;if(!$)if(k)d.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);c+=$}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Xu(e,t){let s=0;for(;s<e.length&&s<t.length;){const r=t[s]-e[s];if(r)return r;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Oa(e,t){let s=0;const r=e.score,n=t.score;for(;s<r.length&&s<n.length;){const i=Xu(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(ki(r))return 1;if(ki(n))return-1}return n.length-r.length}function ki(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Zu={type:0,value:""},eh=/[a-zA-Z0-9_]/;function th(e){if(!e)return[[]];if(e==="/")return[[Zu]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${s})/"${u}": ${g}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function d(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),s=1):d();break;case 4:d(),s=r;break;case 1:l==="("?s=2:eh.test(l)?d():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${u}"`),h(),o(),n}function sh(e,t,s){const r=Yu(th(e.path),s),n=W(r,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function rh(e,t){const s=[],r=new Map;t=Oi({strict:!1,end:!0,sensitive:!1},t);function n(h){return r.get(h)}function i(h,d,g){const m=!g,S=Pi(h);S.aliasOf=g&&g.record;const k=Oi(t,h),j=[S];if("alias"in h){const x=typeof h.alias=="string"?[h.alias]:h.alias;for(const F of x)j.push(Pi(W({},S,{components:g?g.record.components:S.components,path:F,aliasOf:g?g.record:S})))}let $,C;for(const x of j){const{path:F}=x;if(d&&F[0]!=="/"){const le=d.record.path,re=le[le.length-1]==="/"?"":"/";x.path=d.record.path+(F&&re+F)}if($=sh(x,d,k),g?g.alias.push($):(C=C||$,C!==$&&C.alias.push($),m&&h.name&&!xi($)&&o(h.name)),Ra($)&&l($),S.children){const le=S.children;for(let re=0;re<le.length;re++)i(le[re],$,g&&g.children[re])}g=g||$}return C?()=>{o(C)}:Ss}function o(h){if(Pa(h)){const d=r.get(h);d&&(r.delete(h),s.splice(s.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=s.indexOf(h);d>-1&&(s.splice(d,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const d=oh(h,s);s.splice(d,0,h),h.record.name&&!xi(h)&&r.set(h.record.name,h)}function u(h,d){let g,m={},S,k;if("name"in h&&h.name){if(g=r.get(h.name),!g)throw ns(1,{location:h});k=g.record.name,m=W(Ti(d.params,g.keys.filter(C=>!C.optional).concat(g.parent?g.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),h.params&&Ti(h.params,g.keys.map(C=>C.name))),S=g.stringify(m)}else if(h.path!=null)S=h.path,g=s.find(C=>C.re.test(S)),g&&(m=g.parse(S),k=g.record.name);else{if(g=d.name?r.get(d.name):s.find(C=>C.re.test(d.path)),!g)throw ns(1,{location:h,currentLocation:d});k=g.record.name,m=W({},d.params,h.params),S=g.stringify(m)}const j=[];let $=g;for(;$;)j.unshift($.record),$=$.parent;return{name:k,path:S,params:m,matched:j,meta:ih(j)}}e.forEach(h=>i(h));function c(){s.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:n}}function Ti(e,t){const s={};for(const r of t)r in e&&(s[r]=e[r]);return s}function Pi(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:nh(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function nh(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const r in e.components)t[r]=typeof s=="object"?s[r]:s;return t}function xi(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ih(e){return e.reduce((t,s)=>W(t,s.meta),{})}function Oi(e,t){const s={};for(const r in e)s[r]=r in t?t[r]:e[r];return s}function oh(e,t){let s=0,r=t.length;for(;s!==r;){const i=s+r>>1;Oa(e,t[i])<0?r=i:s=i+1}const n=ah(e);return n&&(r=t.lastIndexOf(n,r-1)),r}function ah(e){let t=e;for(;t=t.parent;)if(Ra(t)&&Oa(e,t)===0)return t}function Ra({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function lh(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(wa," "),o=i.indexOf("="),a=js(o<0?i:i.slice(0,o)),l=o<0?null:js(i.slice(o+1));if(a in t){let u=t[a];Ie(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Ri(e){let t="";for(let s in e){const r=e[s];if(s=Ou(s),r==null){r!==void 0&&(t+=(t.length?"&":"")+s);continue}(Ie(r)?r.map(i=>i&&rn(i)):[r&&rn(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function ch(e){const t={};for(const s in e){const r=e[s];r!==void 0&&(t[s]=Ie(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return t}const uh=Symbol(""),Ai=Symbol(""),br=Symbol(""),jn=Symbol(""),on=Symbol("");function hs(){let e=[];function t(r){return e.push(r),()=>{const n=e.indexOf(r);n>-1&&e.splice(n,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function ft(e,t,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=d=>{d===!1?l(ns(4,{from:s,to:t})):d instanceof Error?l(d):Ju(d)?l(ns(2,{from:t,to:d})):(o&&r.enterCallbacks[n]===o&&typeof d=="function"&&o.push(d),a())},c=i(()=>e.call(r&&r.instances[n],t,s,u));let h=Promise.resolve(c);e.length<3&&(h=h.then(u)),h.catch(d=>l(d))})}function Dr(e,t,s,r,n=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(va(l)){const c=(l.__vccOpts||l)[t];c&&i.push(ft(c,s,r,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=mu(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const g=(h.__vccOpts||h)[t];return g&&ft(g,s,r,o,a,n)()}))}}return i}function Ci(e){const t=$e(br),s=$e(jn),r=Ce(()=>{const l=Xt(e.to);return t.resolve(l)}),n=Ce(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=s.matched;if(!c||!h.length)return-1;const d=h.findIndex(rs.bind(null,c));if(d>-1)return d;const g=ji(l[u-2]);return u>1&&ji(c)===g&&h[h.length-1].path!==g?h.findIndex(rs.bind(null,l[u-2])):d}),i=Ce(()=>n.value>-1&&gh(s.params,r.value.params)),o=Ce(()=>n.value>-1&&n.value===s.matched.length-1&&ka(s.params,r.value.params));function a(l={}){if(ph(l)){const u=t[Xt(e.replace)?"replace":"push"](Xt(e.to)).catch(Ss);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:Ce(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function hh(e){return e.length===1?e[0]:e}const fh=Mo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ci,setup(e,{slots:t}){const s=pr(Ci(e)),{options:r}=$e(br),n=Ce(()=>({[$i(e.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[$i(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&hh(t.default(s));return e.custom?i:_a("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),dh=fh;function ph(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function gh(e,t){for(const s in t){const r=t[s],n=e[s];if(typeof r=="string"){if(r!==n)return!1}else if(!Ie(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function ji(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const $i=(e,t,s)=>e??t??s,_h=Mo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const r=$e(on),n=Ce(()=>e.route||r.value),i=$e(Ai,0),o=Ce(()=>{let u=Xt(i);const{matched:c}=n.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=Ce(()=>n.value.matched[o.value]);Js(Ai,Ce(()=>o.value+1)),Js(uh,a),Js(on,n);const l=Ro();return Gs(()=>[l.value,a.value,e.name],([u,c,h],[d,g,m])=>{c&&(c.instances[h]=u,g&&g!==c&&u&&u===d&&(c.leaveGuards.size||(c.leaveGuards=g.leaveGuards),c.updateGuards.size||(c.updateGuards=g.updateGuards))),u&&c&&(!g||!rs(c,g)||!d)&&(c.enterCallbacks[h]||[]).forEach(S=>S(u))},{flush:"post"}),()=>{const u=n.value,c=e.name,h=a.value,d=h&&h.components[c];if(!d)return Ii(s.default,{Component:d,route:u});const g=h.props[c],m=g?g===!0?u.params:typeof g=="function"?g(u):g:null,k=_a(d,W({},m,t,{onVnodeUnmounted:j=>{j.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return Ii(s.default,{Component:k,route:u})||k}}});function Ii(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const mh=_h;function vh(e){const t=rh(e.routes,e),s=e.parseQuery||lh,r=e.stringifyQuery||Ri,n=e.history,i=hs(),o=hs(),a=hs(),l=Rl(at);let u=at;Wt&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Ir.bind(null,y=>""+y),h=Ir.bind(null,Au),d=Ir.bind(null,js);function g(y,I){let R,L;return Pa(y)?(R=t.getRecordMatcher(y),L=I):L=y,t.addRoute(L,R)}function m(y){const I=t.getRecordMatcher(y);I&&t.removeRoute(I)}function S(){return t.getRoutes().map(y=>y.record)}function k(y){return!!t.getRecordMatcher(y)}function j(y,I){if(I=W({},I||l.value),typeof y=="string"){const _=Lr(s,y,I.path),v=t.resolve({path:_.path},I),b=n.createHref(_.fullPath);return W(_,v,{params:d(v.params),hash:js(_.hash),redirectedFrom:void 0,href:b})}let R;if(y.path!=null)R=W({},y,{path:Lr(s,y.path,I.path).path});else{const _=W({},y.params);for(const v in _)_[v]==null&&delete _[v];R=W({},y,{params:h(_)}),I.params=h(I.params)}const L=t.resolve(R,I),Y=y.hash||"";L.params=c(d(L.params));const f=$u(r,W({},y,{hash:xu(Y),path:L.path})),p=n.createHref(f);return W({fullPath:f,hash:Y,query:r===Ri?ch(y.query):y.query||{}},L,{redirectedFrom:void 0,href:p})}function $(y){return typeof y=="string"?Lr(s,y,l.value.path):W({},y)}function C(y,I){if(u!==y)return ns(8,{from:I,to:y})}function x(y){return re(y)}function F(y){return x(W($(y),{replace:!0}))}function le(y){const I=y.matched[y.matched.length-1];if(I&&I.redirect){const{redirect:R}=I;let L=typeof R=="function"?R(y):R;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=$(L):{path:L},L.params={}),W({query:y.query,hash:y.hash,params:L.path!=null?{}:y.params},L)}}function re(y,I){const R=u=j(y),L=l.value,Y=y.state,f=y.force,p=y.replace===!0,_=le(R);if(_)return re(W($(_),{state:typeof _=="object"?W({},Y,_.state):Y,force:f,replace:p}),I||R);const v=R;v.redirectedFrom=I;let b;return!f&&Iu(r,L,R)&&(b=ns(16,{to:v,from:L}),Me(L,L,!0,!1)),(b?Promise.resolve(b):De(v,L)).catch(w=>Qe(w)?Qe(w,2)?w:ot(w):K(w,v,L)).then(w=>{if(w){if(Qe(w,2))return re(W({replace:p},$(w.to),{state:typeof w.to=="object"?W({},Y,w.to.state):Y,force:f}),I||v)}else w=wt(v,L,!0,p,Y);return it(v,L,w),w})}function Le(y,I){const R=C(y,I);return R?Promise.reject(R):Promise.resolve()}function nt(y){const I=It.values().next().value;return I&&typeof I.runWithContext=="function"?I.runWithContext(y):y()}function De(y,I){let R;const[L,Y,f]=yh(y,I);R=Dr(L.reverse(),"beforeRouteLeave",y,I);for(const _ of L)_.leaveGuards.forEach(v=>{R.push(ft(v,y,I))});const p=Le.bind(null,y,I);return R.push(p),xe(R).then(()=>{R=[];for(const _ of i.list())R.push(ft(_,y,I));return R.push(p),xe(R)}).then(()=>{R=Dr(Y,"beforeRouteUpdate",y,I);for(const _ of Y)_.updateGuards.forEach(v=>{R.push(ft(v,y,I))});return R.push(p),xe(R)}).then(()=>{R=[];for(const _ of f)if(_.beforeEnter)if(Ie(_.beforeEnter))for(const v of _.beforeEnter)R.push(ft(v,y,I));else R.push(ft(_.beforeEnter,y,I));return R.push(p),xe(R)}).then(()=>(y.matched.forEach(_=>_.enterCallbacks={}),R=Dr(f,"beforeRouteEnter",y,I,nt),R.push(p),xe(R))).then(()=>{R=[];for(const _ of o.list())R.push(ft(_,y,I));return R.push(p),xe(R)}).catch(_=>Qe(_,8)?_:Promise.reject(_))}function it(y,I,R){a.list().forEach(L=>nt(()=>L(y,I,R)))}function wt(y,I,R,L,Y){const f=C(y,I);if(f)return f;const p=I===at,_=Wt?history.state:{};R&&(L||p?n.replace(y.fullPath,W({scroll:p&&_&&_.scroll},Y)):n.push(y.fullPath,Y)),l.value=y,Me(y,I,R,p),ot()}let Ue;function as(){Ue||(Ue=n.listen((y,I,R)=>{if(!Ms.listening)return;const L=j(y),Y=le(L);if(Y){re(W(Y,{replace:!0,force:!0}),L).catch(Ss);return}u=L;const f=l.value;Wt&&qu(wi(f.fullPath,R.delta),wr()),De(L,f).catch(p=>Qe(p,12)?p:Qe(p,2)?(re(W($(p.to),{force:!0}),L).then(_=>{Qe(_,20)&&!R.delta&&R.type===$s.pop&&n.go(-1,!1)}).catch(Ss),Promise.reject()):(R.delta&&n.go(-R.delta,!1),K(p,L,f))).then(p=>{p=p||wt(L,f,!1),p&&(R.delta&&!Qe(p,8)?n.go(-R.delta,!1):R.type===$s.pop&&Qe(p,20)&&n.go(-1,!1)),it(L,f,p)}).catch(Ss)}))}let jt=hs(),ie=hs(),Q;function K(y,I,R){ot(y);const L=ie.list();return L.length?L.forEach(Y=>Y(y,I,R)):console.error(y),Promise.reject(y)}function Je(){return Q&&l.value!==at?Promise.resolve():new Promise((y,I)=>{jt.add([y,I])})}function ot(y){return Q||(Q=!y,as(),jt.list().forEach(([I,R])=>y?R(y):I()),jt.reset()),y}function Me(y,I,R,L){const{scrollBehavior:Y}=e;if(!Wt||!Y)return Promise.resolve();const f=!R&&Hu(wi(y.fullPath,0))||(L||!R)&&history.state&&history.state.scroll||null;return $o().then(()=>Y(y,I,f)).then(p=>p&&Bu(p)).catch(p=>K(p,y,I))}const me=y=>n.go(y);let $t;const It=new Set,Ms={currentRoute:l,listening:!0,addRoute:g,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:k,getRoutes:S,resolve:j,options:e,push:x,replace:F,go:me,back:()=>me(-1),forward:()=>me(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ie.add,isReady:Je,install(y){const I=this;y.component("RouterLink",dh),y.component("RouterView",mh),y.config.globalProperties.$router=I,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>Xt(l)}),Wt&&!$t&&l.value===at&&($t=!0,x(n.location).catch(Y=>{}));const R={};for(const Y in at)Object.defineProperty(R,Y,{get:()=>l.value[Y],enumerable:!0});y.provide(br,I),y.provide(jn,xo(R)),y.provide(on,l);const L=y.unmount;It.add(y),y.unmount=function(){It.delete(y),It.size<1&&(u=at,Ue&&Ue(),Ue=null,l.value=at,$t=!1,Q=!1),L()}}};function xe(y){return y.reduce((I,R)=>I.then(()=>nt(R)),Promise.resolve())}return Ms}function yh(e,t){const s=[],r=[],n=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(u=>rs(u,a))?r.push(a):s.push(a));const l=e.matched[o];l&&(t.matched.find(u=>rs(u,l))||n.push(l))}return[s,r,n]}function wh(){return $e(br)}function Ud(e){return $e(jn)}const bh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>st(async()=>{const{default:r}=await Promise.resolve().then(()=>os);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)};class $n extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class Sh extends $n{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Eh extends $n{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kh extends $n{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var an;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(an||(an={}));var Th=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Ph{constructor(t,{headers:s={},customFetch:r,region:n=an.Any}={}){this.url=t,this.headers=s,this.region=n,this.fetch=bh(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var r;return Th(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(m=>{throw new Sh(m)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Eh(c);if(!c.ok)throw new kh(c);let d=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return d==="application/json"?g=yield c.json():d==="application/octet-stream"?g=yield c.blob():d==="text/event-stream"?g=c:d==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}function xh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Oh(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),s}var oe={},Dt={},Ut={},Mt={},Nt={},Ft={},Rh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},is=Rh();const Ah=is.fetch,Aa=is.fetch.bind(is),Ca=is.Headers,Ch=is.Request,jh=is.Response,os=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ca,Request:Ch,Response:jh,default:Aa,fetch:Ah},Symbol.toStringTag,{value:"Module"})),$h=Oh(os);var qs={},Li;function ja(){if(Li)return qs;Li=1,Object.defineProperty(qs,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return qs.default=e,qs}var Di;function $a(){if(Di)return Ft;Di=1;var e=Ft&&Ft.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ft,"__esModule",{value:!0});const t=e($h),s=e(ja());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,d;let g=null,m=null,S=null,k=u.status,j=u.statusText;if(u.ok){if(this.method!=="HEAD"){const F=await u.text();F===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=F:m=JSON.parse(F))}const C=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),x=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");C&&x&&x.length>1&&(S=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(g={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,S=null,k=406,j="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const C=await u.text();try{g=JSON.parse(C),Array.isArray(g)&&u.status===404&&(m=[],g=null,k=200,j="OK")}catch{u.status===404&&C===""?(k=204,j="No Content"):g={message:C}}if(g&&this.isMaybeSingle&&(!((d=g==null?void 0:g.details)===null||d===void 0)&&d.includes("0 rows"))&&(g=null,k=200,j="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:m,count:S,status:k,statusText:j}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,d;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=u==null?void 0:u.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return Ft.default=r,Ft}var Ui;function Ia(){if(Ui)return Nt;Ui=1;var e=Nt&&Nt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Nt,"__esModule",{value:!0});const t=e($a());class s extends t.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${d}"; options=${h};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Nt.default=s,Nt}var Mi;function In(){if(Mi)return Mt;Mi=1;var e=Mt&&Mt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mt,"__esModule",{value:!0});const t=e(Ia());class s extends t.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return Mt.default=s,Mt}var Ni;function La(){if(Ni)return Ut;Ni=1;var e=Ut&&Ut.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ut,"__esModule",{value:!0});const t=e(In());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const u=n.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const h=n.reduce((d,g)=>d.concat(Object.keys(g)),[]);if(h.length>0){const d=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ut.default=s,Ut}var fs={},ds={},Fi;function Ih(){return Fi||(Fi=1,Object.defineProperty(ds,"__esModule",{value:!0}),ds.version=void 0,ds.version="0.0.0-automated"),ds}var Bi;function Lh(){if(Bi)return fs;Bi=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.DEFAULT_HEADERS=void 0;const e=Ih();return fs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},fs}var qi;function Dh(){if(qi)return Dt;qi=1;var e=Dt&&Dt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Dt,"__esModule",{value:!0});const t=e(La()),s=e(In()),r=Lh();class n{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let h;const d=new URL(`${this.url}/rpc/${o}`);let g;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([S,k])=>k!==void 0).map(([S,k])=>[S,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([S,k])=>{d.searchParams.append(S,k)})):(h="POST",g=a);const m=Object.assign({},this.headers);return c&&(m.Prefer=`count=${c}`),new s.default({method:h,url:d,headers:m,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return Dt.default=n,Dt}var Hi;function Uh(){if(Hi)return oe;Hi=1;var e=oe&&oe.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(oe,"__esModule",{value:!0}),oe.PostgrestError=oe.PostgrestBuilder=oe.PostgrestTransformBuilder=oe.PostgrestFilterBuilder=oe.PostgrestQueryBuilder=oe.PostgrestClient=void 0;const t=e(Dh());oe.PostgrestClient=t.default;const s=e(La());oe.PostgrestQueryBuilder=s.default;const r=e(In());oe.PostgrestFilterBuilder=r.default;const n=e(Ia());oe.PostgrestTransformBuilder=n.default;const i=e($a());oe.PostgrestBuilder=i.default;const o=e(ja());return oe.PostgrestError=o.default,oe.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},oe}var Mh=Uh();const Nh=xh(Mh),{PostgrestClient:Fh,PostgrestQueryBuilder:Md,PostgrestFilterBuilder:Nd,PostgrestTransformBuilder:Fd,PostgrestBuilder:Bd,PostgrestError:qd}=Nh,Bh="2.11.2",qh={"X-Client-Info":`realtime-js/${Bh}`},Hh="1.0.0",Da=1e4,Vh=1e3;var ts;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ts||(ts={}));var Ee;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ee||(Ee={}));var Ae;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ae||(Ae={}));var ln;(function(e){e.websocket="websocket"})(ln||(ln={}));var Pt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Pt||(Pt={}));class Kh{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,s,r)}_decodeBroadcast(t,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+n));o=o+n;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Ua{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ee||(ee={}));const Vi=(e,t,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=Wh(o,e,t,n),i),{})},Wh=(e,t,s,r)=>{const n=t.find(a=>a.name===e),i=n==null?void 0:n.type,o=s[e];return i&&!r.includes(i)?Ma(i,o):cn(o)},Ma=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return Qh(t,s)}switch(e){case ee.bool:return zh(t);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return Jh(t);case ee.json:case ee.jsonb:return Gh(t);case ee.timestamp:return Yh(t);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return cn(t);default:return cn(t)}},cn=e=>e,zh=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Jh=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Gh=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Qh=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,r=e[s];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Ma(t,a))}return e},Yh=e=>typeof e=="string"?e.replace(" ","T"):e,Na=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ur{constructor(t,s,r={},n=Da){this.channel=t,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ki;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ki||(Ki={}));class ks{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ks.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=ks.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=ks.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,n){const i=this.cloneDeep(t),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const d=c.map(k=>k.presence_ref),g=h.map(k=>k.presence_ref),m=c.filter(k=>g.indexOf(k.presence_ref)<0),S=h.filter(k=>d.indexOf(k.presence_ref)<0);m.length>0&&(a[u]=m),S.length>0&&(l[u]=S)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(t,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const h=t[a].map(g=>g.presence_ref),d=c.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...d)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=u,n(a,u,l),u.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const n=t[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wi;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Wi||(Wi={}));var zi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(zi||(zi={}));var Xe;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xe||(Xe={}));class Ln{constructor(t,s={config:{}},r){this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ur(this,Ae.join,this.params,this.timeout),this.rejoinTimer=new Ua(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ae.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new ks(this),this.broadcastEndpointURL=Na(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(Xe.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(Xe.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){t==null||t(Xe.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,g=(h=d==null?void 0:d.length)!==null&&h!==void 0?h:0,m=[];for(let S=0;S<g;S++){const k=d[S],{filter:{event:j,schema:$,table:C,filter:x}}=k,F=c&&c[S];if(F&&F.event===j&&F.schema===$&&F.table===C&&F.filter===x)m.push(Object.assign(Object.assign({},k),{id:F.id}));else{this.unsubscribe(),t==null||t(Xe.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(Xe.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(Xe.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Xe.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this._on(t,s,r)}async send(t,s={}){var r,n;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ee.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ae.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new Ur(this,Ae.leave,{},t);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(t,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Ur(this,t,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var n,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ae;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,s,r);if(s&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var m,S,k;return((m=g.filter)===null||m===void 0?void 0:m.event)==="*"||((k=(S=g.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(g=>g.callback(d,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var m,S,k,j,$,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const x=g.id,F=(m=g.filter)===null||m===void 0?void 0:m.event;return x&&((S=s.ids)===null||S===void 0?void 0:S.includes(x))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const x=($=(j=g==null?void 0:g.filter)===null||j===void 0?void 0:j.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return x==="*"||x===((C=s==null?void 0:s.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof d=="object"&&"ids"in d){const m=d.data,{schema:S,table:k,commit_timestamp:j,type:$,errors:C}=m;d=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:j,eventType:$,new:{},old:{},errors:C}),this._getPayloadRecords(m))}g.callback(d,r)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const n=t.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Ln.isEqual(n.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ae.close,{},t)}_onError(t){this._on(Ae.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Vi(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Vi(t.columns,t.old_record)),s}}const Xh=()=>{},Zh=typeof WebSocket<"u",ef=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tf{constructor(t,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=qh,this.params={},this.timeout=Da,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Xh,this.conn=null,this.sendBuffer=[],this.serializer=new Kh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>st(async()=>{const{default:l}=await Promise.resolve().then(()=>os);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${ln.websocket}`,this.httpEndpoint=Na(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ua(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Zh){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new sf(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),st(async()=>{const{default:t}=await import("./browser-CNwysYr4.js").then(s=>s.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Hh}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ts.connecting:return Pt.Connecting;case ts.open:return Pt.Open;case ts.closing:return Pt.Closing;default:return Pt.Closed}}isConnected(){return this.connectionState()===Pt.Open}channel(t,s={config:{}}){const r=new Ln(`realtime:${t}`,s,this);return this.channels.push(r),r}push(t){const{topic:s,event:r,payload:n,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(Ae.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Vh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ae.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${t}${r}${n}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([ef],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class sf{constructor(t,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ts.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class Dn extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ae(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rf extends Dn{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class un extends Dn{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var nf=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Fa=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>st(async()=>{const{default:r}=await Promise.resolve().then(()=>os);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},of=()=>nf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield st(()=>Promise.resolve().then(()=>os),void 0)).Response:Response}),hn=e=>{if(Array.isArray(e))return e.map(s=>hn(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=hn(r)}),t};var Ct=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Mr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),af=(e,t,s)=>Ct(void 0,void 0,void 0,function*(){const r=yield of();e instanceof r&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{t(new rf(Mr(n),e.status||500))}).catch(n=>{t(new un(Mr(n),n))}):t(new un(Mr(e),e))}),lf=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function Us(e,t,s,r,n,i){return Ct(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,lf(t,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>af(l,a,r))})})}function ir(e,t,s,r){return Ct(this,void 0,void 0,function*(){return Us(e,"GET",t,s,r)})}function dt(e,t,s,r,n){return Ct(this,void 0,void 0,function*(){return Us(e,"POST",t,r,n,s)})}function cf(e,t,s,r,n){return Ct(this,void 0,void 0,function*(){return Us(e,"PUT",t,r,n,s)})}function uf(e,t,s,r){return Ct(this,void 0,void 0,function*(){return Us(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Ba(e,t,s,r,n){return Ct(this,void 0,void 0,function*(){return Us(e,"DELETE",t,r,n,s)})}var ye=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const hf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ji={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ff{constructor(t,s={},r,n){this.url=t,this.headers=s,this.bucketId=r,this.fetch=Fa(n)}uploadOrUpdate(t,s,r,n){return ye(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ji),n);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),d=yield h.json();return h.ok?{data:{path:u,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}upload(t,s,r){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,n){return ye(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Ji.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),d=yield h.json();return h.ok?{data:{path:i,fullPath:d.Key},error:null}:{data:null,error:d}}catch(l){if(ae(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return ye(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Dn("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}update(t,s,r){return ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return ye(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}copy(t,s,r){return ye(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}createSignedUrl(t,s,r){return ye(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield dt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}createSignedUrls(t,s,r){return ye(this,void 0,void 0,function*(){try{const n=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}download(t,s){return ye(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ir(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ae(a))return{data:null,error:a};throw a}})}info(t){return ye(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield ir(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:hn(r),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}exists(t){return ye(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield uf(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ae(r)&&r instanceof un){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return ye(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}list(t,s,r){return ye(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},hf),s),{prefix:t||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const df="2.7.1",pf={"X-Client-Info":`storage-js/${df}`};var Bt=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class gf{constructor(t,s={},r){this.url=t,this.headers=Object.assign(Object.assign({},pf),s),this.fetch=Fa(r)}listBuckets(){return Bt(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ae(t))return{data:null,error:t};throw t}})}getBucket(t){return Bt(this,void 0,void 0,function*(){try{return{data:yield ir(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return Bt(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}updateBucket(t,s){return Bt(this,void 0,void 0,function*(){try{return{data:yield cf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Bt(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}deleteBucket(t){return Bt(this,void 0,void 0,function*(){try{return{data:yield Ba(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}}class _f extends gf{constructor(t,s={},r){super(t,s,r)}from(t){return new ff(this.url,this.headers,t,this.fetch)}}const mf="2.49.4";let gs="";typeof Deno<"u"?gs="deno":typeof document<"u"?gs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gs="react-native":gs="node";const vf={"X-Client-Info":`supabase-js-${gs}/${mf}`},yf={headers:vf},wf={schema:"public"},bf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sf={};var Ef=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const kf=e=>{let t;return e?t=e:typeof fetch>"u"?t=Aa:t=fetch,(...s)=>t(...s)},Tf=()=>typeof Headers>"u"?Ca:Headers,Pf=(e,t,s)=>{const r=kf(s),n=Tf();return(i,o)=>Ef(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var xf=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function Of(e){return e.replace(/\/$/,"")}function Rf(e,t){const{db:s,auth:r,realtime:n,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>xf(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const qa="2.69.1",zt=30*1e3,fn=3,Nr=fn*zt,Af="http://localhost:9999",Cf="supabase.auth.token",jf={"X-Client-Info":`gotrue-js/${qa}`},dn="X-Supabase-Api-Version",Ha={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$f=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,If=6e5;class Un extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Lf extends Un{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Df(e){return q(e)&&e.name==="AuthApiError"}class Va extends Un{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class yt extends Un{constructor(t,s,r,n){super(t,r,n),this.name=s,this.status=r}}class lt extends yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Uf(e){return q(e)&&e.name==="AuthSessionMissingError"}class Fr extends yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Hs extends yt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vs extends yt{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Mf(e){return q(e)&&e.name==="AuthImplicitGrantRedirectError"}class Gi extends yt{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pn extends yt{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Br(e){return q(e)&&e.name==="AuthRetryableFetchError"}class Qi extends yt{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Ts extends yt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xi=` 	
\r=`.split(""),Nf=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Xi.length;t+=1)e[Xi[t].charCodeAt(0)]=-2;for(let t=0;t<Yi.length;t+=1)e[Yi[t].charCodeAt(0)]=t;return e})();function Ka(e,t,s){const r=Nf[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Zi(e){const t=[],s=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{qf(o,r,s)};for(let o=0;o<e.length;o+=1)Ka(e.charCodeAt(o),n,i);return t.join("")}function Ff(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Bf(e,t){for(let s=0;s<e.length;s+=1){let r=e.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(e.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Ff(r,t)}}function qf(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Hf(e){const t=[],s={queue:0,queuedBits:0},r=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)Ka(e.charCodeAt(n),s,r);return new Uint8Array(t)}function Vf(e){const t=[];return Bf(e,s=>t.push(s)),new Uint8Array(t)}function Kf(e){return Math.round(Date.now()/1e3)+e}function Wf(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const He=()=>typeof window<"u"&&typeof document<"u",Et={tested:!1,writable:!1},Ps=()=>{if(!He())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Et.tested)return Et.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Et.tested=!0,Et.writable=!0}catch{Et.tested=!0,Et.writable=!1}return Et.writable};function zf(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{t[n]=r}),t}const Wa=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>st(async()=>{const{default:r}=await Promise.resolve().then(()=>os);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},Jf=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",za=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},Ks=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Ws=async(e,t)=>{await e.removeItem(t)};class Sr{constructor(){this.promise=new Sr.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Sr.promiseConstructor=Promise;function qr(e){const t=e.split(".");if(t.length!==3)throw new Ts("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!$f.test(t[r]))throw new Ts("JWT not in base64url format");return{header:JSON.parse(Zi(t[0])),payload:JSON.parse(Zi(t[1])),signature:Hf(t[2]),raw:{header:t[0],payload:t[1]}}}async function Gf(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Qf(e,t){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function Yf(e){return("0"+e.toString(16)).substr(-2)}function Xf(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(t),Array.from(t,Yf).join("")}async function Zf(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function ed(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await Zf(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qt(e,t,s=!1){const r=Xf();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await za(e,`${t}-code-verifier`,n);const i=await ed(r);return[i,r===i?"plain":"s256"]}const td=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sd(e){const t=e.headers.get(dn);if(!t||!t.match(td))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function rd(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function nd(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var id=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};const Tt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),od=[502,503,504];async function eo(e){var t;if(!Jf(e))throw new pn(Tt(e),0);if(od.includes(e.status))throw new pn(Tt(e),e.status);let s;try{s=await e.json()}catch(i){throw new Va(Tt(i),i)}let r;const n=sd(e);if(n&&n.getTime()>=Ha["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Qi(Tt(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new lt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Qi(Tt(s),e.status,s.weak_password.reasons);throw new Lf(Tt(s),e.status||500,r)}const ad=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function H(e,t,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[dn]||(i[dn]=Ha["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await ld(e,t,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function ld(e,t,s,r,n,i){const o=ad(t,r,n,i);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw console.error(l),new pn(Tt(l),0)}if(a.ok||await eo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await eo(l)}}function ct(e){var t;let s=null;fd(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=Kf(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:r},error:null}}function to(e){const t=ct(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function pt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function cd(e){return{data:e,error:null}}function ud(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=e,o=id(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function hd(e){return e}function fd(e){return e.access_token&&e.refresh_token&&e.expires_in}var dd=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};class pd{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=Wa(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:pt})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=dd(t,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:ud,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(q(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:pt})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:hd});if(c.error)throw c.error;const h=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const S=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(m.split(";")[1].split("=")[1]);u[`${k}Page`]=S}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:pt})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:pt})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:pt})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:s,error:r}=await H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(q(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}}const gd={getItem:e=>Ps()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ps()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ps()&&globalThis.localStorage.removeItem(e)}};function so(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function _d(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ht={debug:!!(globalThis&&Ps()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ja extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class md extends Ja{}async function vd(e,t,s){Ht.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ht.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Ht.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{Ht.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw Ht.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new md(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ht.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}_d();const yd={url:Af,storageKey:Cf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jf,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ro(e,t,s){return await s()}class Is{constructor(t){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Is.nextInstanceID,Is.nextInstanceID+=1,this.instanceID>0&&He()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},yd),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new pd({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Wa(n.fetch),this.lock=n.lock||ro,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:He()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=vd:this.lock=ro,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Ps()?this.storage=gd:(this.memoryStorage={},this.storage=so(this.memoryStorage)):(this.memoryStorage={},this.storage=so(this.memoryStorage)),He()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qa}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=zf(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),He()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Mf(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return q(s)?{error:s}:{error:new Va("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,n;try{const i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:ct}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,r,n;try{let i;if("email"in t){const{email:c,password:h,options:d}=t;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await qt(this.storage,this.storageKey)),i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:h,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:g,code_challenge_method:m},xform:ct})}else if("phone"in t){const{phone:c,password:h,options:d}=t;i=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(n=d==null?void 0:d.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:ct})}else throw new Hs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:a}=t;s=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:to})}else if("phone"in t){const{phone:i,password:o,options:a}=t;s=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:to})}else throw new Hs("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Fr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await Ks(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ct});if(await Ws(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Fr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=t,a=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ct}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Fr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,n,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await qt(this.storage,this.storageKey));const{error:h}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Hs("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,r;try{let n,i;"options"in t&&(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:ct});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await qt(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:cd})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new lt;const{error:n}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:n,options:i}=t,{error:o}=await H(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:n,options:i}=t,{data:o,error:a}=await H(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Hs("You must provide either an email or phone number and a type")}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Ks(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Nr:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:pt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lt}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:pt})})}catch(s){if(q(s))return Uf(s)&&(await this._removeSession(),await Ws(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new lt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await qt(this.storage,this.storageKey));const{data:u,error:c}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:pt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new lt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=qr(t.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(q(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:o,error:a}=s;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new lt;const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!He())throw new Vs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Gi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vs("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Gi("No code detected.");const{data:$,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new Vs("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let d=c+h;l&&(d=parseInt(l));const g=d-c;g*1e3<=zt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const m=d-h;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,c);const{data:S,error:k}=await this._getUser(i);if(k)throw k;const j={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:t.type},error:null}}catch(r){if(q(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Ks(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Df(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Ws(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=Wf(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await qt(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:d}=i;if(d)throw d;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return He()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(q(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Qf(async n=>(n>0&&await Gf(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ct})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Br(i)&&Date.now()+o-r<zt})}catch(r){if(this._debug(s,"error",r),q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),He()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Ks(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Nr;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${Nr}s`),n){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),Br(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Sr;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new lt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),q(i)){const o={session:null,error:i};return Br(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,s,r=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await za(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Ws(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&He()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zt);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-t)/zt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${zt}ms, refresh threshold is ${fn} ticks`),n<=fn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ja)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!He()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await qt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(q(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(q(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(t==null?void 0:t.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,r;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=qr(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,s={keys:[]}){let r=s.keys.find(o=>o.kid===t);if(r||(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+If>Date.now()))return r;const{data:n,error:i}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!n.keys||n.keys.length===0)throw new Ts("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),r=n.keys.find(o=>o.kid===t),!r)throw new Ts("No matching signing key found in JWKS");return r}async getClaims(t,s={keys:[]}){try{let r=t;if(!r){const{data:g,error:m}=await this.getSession();if(m||!g.session)return{data:null,error:m};r=g.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=qr(r);if(rd(i.exp),!n.kid||n.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:n,signature:o},error:null}}const u=nd(n.alg),c=await this.fetchJwk(n.kid,s),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Vf(`${a}.${l}`)))throw new Ts("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}}Is.nextInstanceID=0;const wd=Is;class bd extends wd{constructor(t){super(t)}}var Sd=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Ed{constructor(t,s,r){var n,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Of(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:wf,realtime:Sf,auth:Object.assign(Object.assign({},bf),{storageKey:l}),global:yf},c=Rf(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Pf(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Fh(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Ph(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new _f(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},r={}){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return Sd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bd({url:this.authUrl,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new tf(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kd=(e,t,s)=>new Ed(e,t,s),or=kd("https://rsegftdkzhjijqmltxvk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJzZWdmdGRremhqaWpxbWx0eHZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQ4OTQ3NDksImV4cCI6MjA2MDQ3MDc0OX0.c1r4IR1HlqgHkr75VKPEZOmoMQY47T2xOAePNzekU54"),Td="/supabase-test/";function Pd(e=new Date){const t=new Date(e.valueOf());t.setDate(t.getDate()+3-(t.getDay()+6)%7);const s=t.getFullYear(),r=new Date(s,0,4),n=Math.ceil(((t-r)/864e5+r.getDay()+1)/7);return{isoWeekYear:s,weekNumber:n}}const xd=[{path:"/login",component:()=>st(()=>import("./LoginView-Cigo85eI.js"),[]),name:"Login"},{path:"/",name:"CurrentWeek",beforeEnter:async(e,t,s)=>{const{isoWeekYear:r,weekNumber:n}=Pd();s(`/${r}/${n}`)}},{path:"/:week_year/:week_nbr",name:"WeekView",component:()=>st(()=>import("./WeekView-Bgi-ZbJ1.js"),__vite__mapDeps([0,1,2])),meta:{requiresAuth:!0}},{path:"/dishes",name:"dishes",component:()=>st(()=>import("./DishListView-Dkm36kZL.js"),__vite__mapDeps([3,1,2])),meta:{requiresAuth:!0}}],Ga=vh({history:zu(Td),routes:xd});Ga.beforeEach(async(e,t,s)=>{const{data:{session:r}}=await or.auth.getSession();e.matched.some(i=>i.meta.requiresAuth)&&!r?s({name:"Login"}):s()});const Od={class:"grid content-stretch items-start grid-rows-[1.75rem_1fr_2.5rem] min-h-screen"},Rd={class:"grid grid-cols-2"},Ad={__name:"App",setup(e){const t=wh(),s=Ro();async function r(){const{data:i}=await or.auth.getUser();s.value=i}const n=async()=>{const{error:i}=await or.auth.signOut();i?console.error("Logout error:",i.message):t.push({name:"Login"})};return qo(()=>{r()}),(i,o)=>{const a=Vn("RouterLink"),l=Vn("RouterView");return ha(),xc("div",Od,[Jt("nav",Rd,[fe(a,{to:"/",class:fr({active:i.$route.name==="WeekView"})},{default:Gr(()=>o[0]||(o[0]=[en("Planering")])),_:1},8,["class"]),fe(a,{to:"/dishes"},{default:Gr(()=>o[1]||(o[1]=[en("Recept")])),_:1})]),Jt("main",null,[fe(l)]),Jt("footer",{class:"bg-teal-700 h-10 p-2 text-center text-teal-100"},[Jt("div",{onClick:n,class:"cursor-pointer hover:text-teal-300 font-semibold"}," Logga ut ")])])}}};fu(Ad).use(Ga).mount("#app");or.auth.onAuthStateChange((e,t)=>{console.log("Auth event:",e)});export{Ze as F,Jt as a,en as b,xc as c,Ce as d,Oc as e,jd as f,Mo as g,_a as h,Id as i,$d as j,fe as k,qo as l,Ho as m,Gs as n,ha as o,Vn as p,Gr as q,Ro as r,or as s,al as t,Ud as u,Ld as v,Cd as w,Dd as x,xh as y};
